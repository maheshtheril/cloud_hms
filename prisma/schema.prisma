generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model account_chart {
  id         String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id  String   @db.Uuid
  company_id String?  @db.Uuid
  code       String
  name       String
  type_id    String?  @db.Uuid
  is_active  Boolean  @default(true)
  created_at DateTime @default(now()) @db.Timestamptz(6)
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
model account_types {
  id             String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  code           String
  name           String
  classification String
  created_at     DateTime @default(now()) @db.Timestamptz(6)
  account_chart  String[]
}

model accounting_periods {
  id           String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id    String   @db.Uuid
  company_id   String   @db.Uuid
  period_label String
  date_from    DateTime @db.Date
  date_to      DateTime @db.Date
  is_open      Boolean  @default(true)
  created_at   DateTime @default(now()) @db.Timestamptz(6)
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model accounts {
  id                  String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id           String    @db.Uuid
  company_id          String    @db.Uuid
  parent_id           String?   @db.Uuid
  code                String
  name                String
  type                String
  is_reconcilable     Boolean?  @default(false)
  is_active           Boolean?  @default(true)
  currency_id         String?   @db.Uuid
  metadata            Json?     @default("{}")
  created_at          DateTime? @default(now()) @db.Timestamptz(6)
  updated_at          DateTime? @default(now()) @db.Timestamptz(6)
  journal_entry_lines String[]
  journal_lines       String[]
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model agent_task {
  id            String    @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id     String    @db.Uuid
  lead_id       String?   @db.Uuid
  type          String
  handler       String?
  payload       Json?     @default("{}")
  status        String?   @default("pending")
  scheduled_for DateTime? @db.Timestamptz(6)
  started_at    DateTime? @db.Timestamptz(6)
  completed_at  DateTime? @db.Timestamptz(6)
  result        Json?
  created_at    DateTime? @default(now()) @db.Timestamptz(6)

  @@ignore
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model agent_task_log {
  id         String    @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  task_id    String?   @db.Uuid
  step       String?
  meta       Json?
  created_at DateTime? @default(now()) @db.Timestamptz(6)

  @@ignore
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model ai_action {
  id              String    @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id       String    @db.Uuid
  session_id      String?   @db.Uuid
  lead_id         String?   @db.Uuid
  user_id         String?   @db.Uuid
  action_type     String
  payload         Json?     @default("{}")
  accepted        Boolean?
  executed        Boolean?  @default(false)
  executed_result Json?
  created_at      DateTime? @default(now()) @db.Timestamptz(6)

  @@ignore
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model ai_assistant_session {
  id         String    @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id  String    @db.Uuid
  user_id    String?   @db.Uuid
  context    Json?     @default("{}")
  messages   Json?     @default("[]")
  created_at DateTime? @default(now()) @db.Timestamptz(6)
  updated_at DateTime? @default(now()) @db.Timestamptz(6)

  @@ignore
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model ai_embedding {
  id           String    @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id    String    @db.Uuid
  lead_id      String?   @db.Uuid
  namespace    String
  reference_id String?
  content      String?
  vector       Bytes?
  metadata     Json?     @default("{}")
  created_at   DateTime? @default(now()) @db.Timestamptz(6)

  @@ignore
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
model analytic_accounts {
  id                    String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id             String   @db.Uuid
  company_id            String   @db.Uuid
  code                  String
  name                  String
  type                  String
  parent_id             String?  @db.Uuid
  is_active             Boolean  @default(true)
  created_at            DateTime @default(now()) @db.Timestamptz(6)
  analytic_distribution String[]
  journal_entry_lines   String[]
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
model analytic_distribution {
  id          String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id   String   @db.Uuid
  company_id  String   @db.Uuid
  analytic_id String   @db.Uuid
  percentage  Decimal  @db.Decimal(5, 2)
  created_at  DateTime @default(now()) @db.Timestamptz(6)
}

model analytic_tags {
  id         String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id  String   @db.Uuid
  company_id String   @db.Uuid
  name       String
  created_at DateTime @default(now()) @db.Timestamptz(6)
}

model app_user {
  id                        String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id                 String    @db.Uuid
  company_id                String?   @db.Uuid
  email                     String
  name                      String?
  password                  String?
  is_admin                  Boolean?  @default(false)
  is_active                 Boolean?  @default(true)
  metadata                  Json?     @default("{}")
  created_at                DateTime? @default(now()) @db.Timestamptz(6)
  full_name                 String?
  role                      String?
  is_platform_admin         Boolean   @default(false)
  is_tenant_admin           Boolean   @default(false)
  current_branch_id         String?   @db.Uuid
  mobile                    String?
  country_id                String?   @db.Uuid
  subdivision_id            String?   @db.Uuid
  accounts                  String[]
  contacts                  String[]
  deals                     String[]
  crm_employee              String?
  leads                     String[]
  doctor_notes              String[]
  email_verification_tokens String[]
  hms_user_roles            String[]
  user_branches             String[]
  user_permission           String[]
  user_holidays             String[]
}

model hms_holiday {
  id             String    @id
  tenant_id      String?
  name           String?
  date           DateTime? @db.Timestamptz(6)
  type           String?
  country_id     String?
  subdivision_id String?
  description    String?
  created_at     DateTime? @db.Timestamptz(6)
  users          String[]
}

model hms_user_holiday {
  id          String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  user_id     String?
  holiday_id  String?
  assigned_at DateTime? @db.Timestamptz(6)
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model attachment {
  id           String    @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id    String    @db.Uuid
  lead_id      String?   @db.Uuid
  company_id   String?   @db.Uuid
  uploaded_by  String?   @db.Uuid
  filename     String
  content_type String?
  size_bytes   BigInt?
  storage_key  String
  metadata     Json?     @default("{}")
  created_at   DateTime? @default(now()) @db.Timestamptz(6)

  @@ignore
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model audit_log {
  id         String    @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id  String?   @db.Uuid
  actor_id   String?   @db.Uuid
  table_name String
  record_id  String?   @db.Uuid
  operation  String
  diff       Json?     @default("{}")
  created_at DateTime? @default(now()) @db.Timestamptz(6)
  row_id     String?   @db.Uuid
  event      String?

  @@ignore
}

model business_partners {
  id               String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id        String   @db.Uuid
  name             String
  email            String?
  phone            String?
  website          String?
  gstin            String?
  pan              String?
  billing_address  Json?
  shipping_address Json?
  is_customer      Boolean  @default(true)
  is_vendor        Boolean  @default(false)
  is_partner       Boolean  @default(false)
  status           String?  @default("active")
  created_at       DateTime @default(now()) @db.Timestamptz(6)
  updated_at       DateTime @default(now()) @db.Timestamptz(6)
  branch_id        String?  @db.Uuid
  city             String?
  country          String?
  state            String?
  zip              String?
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model catalog_pipeline_template {
  id          String    @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  key         String
  name        String
  description String?
  metadata    Json?     @default("{}")
  created_at  DateTime? @default(now()) @db.Timestamptz(6)

  @@ignore
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model company {
  id                     String    @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id              String    @db.Uuid
  name                   String
  enabled                Boolean?  @default(true)
  metadata               Json?     @default("{}")
  created_at             DateTime? @default(now()) @db.Timestamptz(6)
  country_id             String?   @db.Uuid
  industry               String?
  logo_url               String?
  mode                   String    @default("trial")
  company_menu_overrides String[]
  company_settings       String?
  company_taxes          String[]
  branches               String[]
  sessions               String[]

  @@ignore
}

model hms_branch {
  id                String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  company_id        String   @db.Uuid
  tenant_id         String   @db.Uuid
  name              String
  code              String?  @db.VarChar(50)
  is_active         Boolean  @default(true)
  type              String?  @default("clinic")
  phone             String?
  email             String?
  address           String?
  city              String?
  state             String?
  pincode           String?
  metadata          Json?    @default("{}")
  created_at        DateTime @default(now()) @db.Timestamptz(6)
  updated_at        DateTime @default(now()) @db.Timestamptz(6)
  business_partners String[]
  crm_accounts      String[]
  crm_contacts      String[]
  crm_deals         String[]
  crm_employees     String[]
  leads             String[]
  doctor_notes      String[]
  stock_locations   String[]
  admissions        String[]
  appointments      String[]
  encounters        String[]
  invoices          String[]
  patients          String[]
  wards             String[]
  journals          String[]
  modules           String[]
  users             String[]
}

model user_branch {
  user_id    String   @db.Uuid
  branch_id  String   @db.Uuid
  is_default Boolean  @default(false)
  created_at DateTime @default(now()) @db.Timestamptz(6)

  @@id([user_id, branch_id])
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
model company_accounting_settings {
  id                            String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id                     String    @db.Uuid
  company_id                    String    @db.Uuid
  default_sale_tax_id           String?   @db.Uuid
  default_purchase_tax_id       String?   @db.Uuid
  currency_id                   String?   @db.Uuid
  currency_precision            Int       @default(2)
  rounding_method               String    @default("ROUND_HALF_UP")
  fiscal_year_start             DateTime  @db.Date
  fiscal_year_end               DateTime  @db.Date
  ar_account_id                 String?   @db.Uuid
  ap_account_id                 String?   @db.Uuid
  sales_account_id              String?   @db.Uuid
  purchase_account_id           String?   @db.Uuid
  output_tax_account_id         String?   @db.Uuid
  input_tax_account_id          String?   @db.Uuid
  sales_journal_id              String?   @db.Uuid
  purchase_journal_id           String?   @db.Uuid
  cash_journal_id               String?   @db.Uuid
  bank_journal_id               String?   @db.Uuid
  general_journal_id            String?   @db.Uuid
  localization                  String?
  enable_reverse_charge         Boolean?  @default(true)
  enable_zero_rate              Boolean?  @default(true)
  created_at                    DateTime  @default(now()) @db.Timestamptz(6)
  updated_at                    DateTime  @default(now()) @db.Timestamptz(6)
  cogs_account_id               String?   @db.Uuid
  inventory_asset_account_id    String?   @db.Uuid
  lock_date                     DateTime? @db.Date
  retained_earnings_account_id  String?   @db.Uuid
  stock_adjustment_account_id   String?   @db.Uuid
  exchange_gain_loss_account_id String?   @db.Uuid
  purchase_discount_account_id  String?   @db.Uuid
  sales_discount_account_id     String?   @db.Uuid
}

model company_menu_overrides {
  id                  String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  company_id          String    @db.Uuid
  menu_item_id        String    @db.Uuid
  enabled             Boolean?
  label_override      String?
  url_override        String?
  sort_order_override Int?
  created_at          DateTime? @default(now()) @db.Timestamptz(6)
  updated_at          DateTime? @default(now()) @db.Timestamptz(6)
}

model company_settings {
  id                           String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id                    String    @db.Uuid
  company_id                   String    @db.Uuid
  currency_id                  String    @db.Uuid
  default_tax_type_id          String?   @db.Uuid
  default_tax_rate_id          String?   @db.Uuid
  rounding_precision           Int?      @default(2) @db.SmallInt
  numbering_prefix             String?   @default("INV") @db.VarChar(10)
  numbering_next               Int?      @default(1)
  address_country_id           String?   @db.Uuid
  auto_load_taxes_from_country Boolean?  @default(true)
  created_at                   DateTime? @default(now()) @db.Timestamptz(6)
  updated_at                   DateTime? @default(now()) @db.Timestamptz(6)
  hms_sub_industry             String?
  hms_departments              Json?
  hms_billing_mode             String?
}

model company_tax_maps {
  id                String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id         String   @db.Uuid
  company_id        String   @db.Uuid
  country_id        String?  @db.Uuid
  tax_type_id       String   @db.Uuid
  tax_rate_id       String   @db.Uuid
  is_default        Boolean  @default(false)
  is_active         Boolean  @default(true)
  created_at        DateTime @default(now()) @db.Timestamptz(6)
  updated_at        DateTime @default(now()) @db.Timestamptz(6)
  account_id        String?  @db.Uuid
  refund_account_id String?  @db.Uuid
}

model company_taxes {
  id         String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  company_id String   @db.Uuid
  name       String
  code       String?
  rate       Decimal  @default(0) @db.Decimal(10, 4)
  is_active  Boolean  @default(true)
  metadata   Json?    @default("{}")
  created_at DateTime @default(now()) @db.Timestamptz(6)
  updated_at DateTime @default(now()) @db.Timestamptz(6)
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model contact {
  id         String   @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id  String?  @db.Uuid
  first_name String?
  last_name  String?
  email      String?
  phone      String?
  role_title String?
  meta       Json?    @default("{}")
  created_at DateTime @default(now()) @db.Timestamptz(6)
  updated_at DateTime @default(now()) @db.Timestamptz(6)
  company_id String?  @db.Uuid
  owner_id   String?  @db.Uuid

  @@ignore
}

model countries {
  id                       String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  iso2                     String   @unique @db.Char(2)
  iso3                     String   @unique @db.Char(3)
  name                     String   @db.VarChar(150)
  flag                     String   @db.Char(4)
  region                   String?  @db.VarChar(100)
  subregion                String?  @db.VarChar(100)
  is_active                Boolean  @default(true)
  created_at               DateTime @default(now()) @db.Timestamptz(6)
  updated_at               DateTime @default(now()) @db.Timestamptz(6)
  company                  String[]
  country_default_currency String[]
  country_tax_mappings     String[]
  subdivisions             String[]
  app_users                String[]
  hms_holidays             String[]
}

model country_subdivision {
  id           String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  country_id   String   @db.Uuid
  parent_id    String?  @db.Uuid
  name         String
  type         String
  code         String?
  is_active    Boolean  @default(true)
  created_at   DateTime @default(now()) @db.Timestamptz(6)
  updated_at   DateTime @default(now()) @db.Timestamptz(6)
  app_users    String[]
  hms_holidays String[]
}

model country_default_currency {
  id          String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  country_id  String    @db.Uuid
  currency_id String    @db.Uuid
  is_active   Boolean   @default(true)
  created_at  DateTime? @default(now()) @db.Timestamptz(6)
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model country_tax_mappings {
  id          String   @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  country_id  String   @db.Uuid
  tax_type_id String   @db.Uuid
  tax_rate_id String   @db.Uuid
  is_active   Boolean  @default(true)
  created_at  DateTime @default(now()) @db.Timestamptz(6)
  updated_at  DateTime @default(now()) @db.Timestamptz(6)

  @@ignore
}

model currencies {
  id                          String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  code                        String   @db.VarChar(3)
  name                        String   @db.VarChar(100)
  symbol                      String?  @db.VarChar(10)
  precision                   Int      @default(2) @db.SmallInt
  is_active                   Boolean  @default(true)
  created_at                  DateTime @default(now()) @db.Timestamptz(6)
  updated_at                  DateTime @default(now()) @db.Timestamptz(6)
  accounts                    String[]
  company_accounting_settings String[]
  company_settings            String[]
  country_default_currency    String[]
  journal_entries             String[]
  tenant_enabled_currencies   String[]
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model custom_field_definition {
  id          String    @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id   String    @db.Uuid
  company_id  String?   @db.Uuid
  pipeline_id String?   @db.Uuid
  entity      String    @default("lead")
  key         String
  label       String
  field_type  String
  options     Json?
  required    Boolean?  @default(false)
  visible     Boolean?  @default(true)
  sort_order  Int?      @default(100)
  metadata    Json?     @default("{}")
  created_by  String?   @db.Uuid
  created_at  DateTime? @default(now()) @db.Timestamptz(6)
  updated_at  DateTime? @default(now()) @db.Timestamptz(6)

  @@ignore
}

model custom_field_value {
  id            String    @id(map: "pk_custom_field_value") @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  definition_id String    @db.Uuid
  tenant_id     String    @db.Uuid
  lead_id       String    @db.Uuid
  value_text    String?
  value_number  Decimal?  @db.Decimal
  value_boolean Boolean?
  value_json    Json?
  created_by    String?   @db.Uuid
  created_at    DateTime? @default(now()) @db.Timestamptz(6)
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model custom_fields {
  id          String   @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id   String   @db.Uuid
  company_id  String?  @db.Uuid
  pipeline_id String?  @db.Uuid
  entity      String
  key         String
  label       String
  field_type  String
  options     Json?
  required    Boolean  @default(false)
  visible     Boolean  @default(true)
  sort_order  Int      @default(100)
  metadata    Json?
  created_by  String?  @db.Uuid
  created_at  DateTime @default(now()) @db.Timestamptz(6)
  updated_at  DateTime @default(now()) @db.Timestamptz(6)

  @@ignore
}

model customer_loyalty_wallet {
  id          String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id   String   @db.Uuid
  company_id  String   @db.Uuid
  customer_id String   @db.Uuid
  points      Decimal? @default(0) @db.Decimal(12, 2)
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model deals {
  id        String  @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id String? @db.Uuid

  @@ignore
}

model domain_mappings {
  id                 String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id          String    @db.Uuid
  host               String
  kind               String
  verified           Boolean   @default(false)
  verification_token String?
  cert_issued_at     DateTime? @db.Timestamptz(6)
  cert_expires_at    DateTime? @db.Timestamptz(6)
  created_at         DateTime? @default(now()) @db.Timestamptz(6)
  updated_at         DateTime? @default(now()) @db.Timestamptz(6)
}

/// This model contains an expression index which requires additional setup for migrations. Visit https://pris.ly/d/expression-indexes for more info.
model domain_policies {
  id         String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  domain     String
  tenant_id  String?  @db.Uuid
  allow_all  Boolean? @default(false)
  created_at DateTime @default(now()) @db.Timestamptz(6)
}

model email_verification_tokens {
  id         String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  user_id    String    @db.Uuid
  email      String
  token      String
  expires_at DateTime  @db.Timestamptz(6)
  created_at DateTime? @default(now()) @db.Timestamptz(6)
}

model express_session {
  sid    String   @id @db.VarChar
  sess   Json     @db.Json
  expire DateTime @db.Timestamp(6)
}

model fiscal_position_account_map {
  id                 String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  fiscal_position_id String   @db.Uuid
  from_account_id    String   @db.Uuid
  to_account_id      String   @db.Uuid
  created_at         DateTime @default(now()) @db.Timestamptz(6)
}

model fiscal_position_tax_map {
  id                 String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  fiscal_position_id String   @db.Uuid
  from_tax_id        String   @db.Uuid
  to_tax_id          String   @db.Uuid
  condition          Json?    @default("{}")
  created_at         DateTime @default(now()) @db.Timestamptz(6)
}

model fiscal_positions {
  id                          String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id                   String   @db.Uuid
  company_id                  String   @db.Uuid
  name                        String
  description                 String?
  is_default                  Boolean  @default(false)
  is_active                   Boolean  @default(true)
  created_at                  DateTime @default(now()) @db.Timestamptz(6)
  updated_at                  DateTime @default(now()) @db.Timestamptz(6)
  fiscal_position_account_map String[]
  fiscal_position_tax_map     String[]
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model fiscal_years {
  id         String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id  String    @db.Uuid
  company_id String    @db.Uuid
  name       String
  date_start DateTime  @db.Date
  date_end   DateTime  @db.Date
  is_closed  Boolean?  @default(false)
  created_at DateTime? @default(now()) @db.Timestamptz(6)
  periods    String[]
}

model fx_gain_loss {
  id                  String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id           String   @db.Uuid
  company_id          String   @db.Uuid
  journal_entry_id    String?  @db.Uuid
  original_currency   String   @db.Uuid
  functional_currency String   @db.Uuid
  amount_original     Decimal  @db.Decimal(18, 6)
  amount_revalued     Decimal  @db.Decimal(18, 6)
  gain_loss           Decimal  @db.Decimal(18, 6)
  rate_date           DateTime @db.Date
  created_at          DateTime @default(now()) @db.Timestamptz(6)
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
model fx_rates {
  id             String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  base_currency  String   @db.Uuid
  quote_currency String   @db.Uuid
  rate           Decimal  @db.Decimal(18, 8)
  rate_date      DateTime @db.Date
  created_at     DateTime @default(now()) @db.Timestamptz(6)
}

model fx_revaluation_runs {
  id               String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id        String   @db.Uuid
  company_id       String   @db.Uuid
  revaluation_date DateTime @db.Date
  currency_id      String   @db.Uuid
  created_at       DateTime @default(now()) @db.Timestamptz(6)
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
/// This model contains an expression index which requires additional setup for migrations. Visit https://pris.ly/d/expression-indexes for more info.
model global_settings {
  id         String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id  String?  @db.Uuid
  company_id String?  @db.Uuid
  key        String
  value      Json
  scope      String   @default("global")
  version    Int      @default(1)
  created_by String?  @db.Uuid
  updated_by String?  @db.Uuid
  created_at DateTime @default(now()) @db.Timestamptz(6)
  updated_at DateTime @default(now()) @db.Timestamptz(6)
}

model global_settings_history {
  id                 String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  global_settings_id String?   @db.Uuid
  tenant_id          String?   @db.Uuid
  company_id         String?   @db.Uuid
  key                String
  old_value          Json?
  new_value          Json?
  changed_by         String?   @db.Uuid
  changed_at         DateTime? @default(now()) @db.Timestamptz(6)
}

model global_stock {
  id          String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id   String    @db.Uuid
  company_id  String    @db.Uuid
  product_id  String    @db.Uuid
  location_id String    @db.Uuid
  qty         Decimal   @default(0) @db.Decimal(14, 4)
  updated_at  DateTime? @default(now()) @db.Timestamptz(6)
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
model global_stock_location {
  id            String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id     String    @db.Uuid
  company_id    String    @db.Uuid
  code          String?
  name          String
  location_type String?
  is_active     Boolean?  @default(true)
  created_at    DateTime? @default(now()) @db.Timestamptz(6)
  branch_id     String?   @db.Uuid
}

model global_stock_lot {
  id            String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id     String    @db.Uuid
  company_id    String    @db.Uuid
  product_id    String    @db.Uuid
  lot_number    String?
  serial_number String?
  expiry_date   DateTime? @db.Date
  qty           Decimal?  @default(0) @db.Decimal(14, 4)
  created_at    DateTime? @default(now()) @db.Timestamptz(6)
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
model global_stock_move {
  id             String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id      String    @db.Uuid
  company_id     String    @db.Uuid
  product_id     String    @db.Uuid
  location_from  String?   @db.Uuid
  location_to    String?   @db.Uuid
  qty            Decimal   @db.Decimal(14, 4)
  uom            String?   @default("unit")
  move_type      String?
  reference_type String?
  reference_id   String?   @db.Uuid
  cost           Decimal?  @db.Decimal(18, 4)
  created_by     String?   @db.Uuid
  created_at     DateTime? @default(now()) @db.Timestamptz(6)
}

model hms_admission {
  id               String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id        String    @db.Uuid
  company_id       String    @db.Uuid
  patient_id       String    @db.Uuid
  encounter_id     String?   @db.Uuid
  admitted_at      DateTime  @default(now()) @db.Timestamptz(6)
  discharged_at    DateTime? @db.Timestamptz(6)
  ward             String?
  bed              String?
  admitting_doctor String?   @db.Uuid
  status           String?   @default("admitted")
  metadata         Json?     @default("{}")
  created_at       DateTime  @default(now()) @db.Timestamptz(6)
  branch_id        String?   @db.Uuid
}

model hms_ai_task {
  id           String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id    String?   @db.Uuid
  company_id   String?   @db.Uuid
  entity_type  String?
  entity_id    String?   @db.Uuid
  prompt       String?
  result       String?
  status       String?   @default("pending")
  created_at   DateTime? @default(now()) @db.Timestamptz(6)
  processed_at DateTime? @db.Timestamptz(6)
}

model hms_appointment_logs {
  id             String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id      String    @db.Uuid
  appointment_id String    @db.Uuid
  event          String
  payload        Json?
  created_at     DateTime? @default(now()) @db.Timestamptz(6)
  created_by     String?   @db.Uuid
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
model hms_appointment_participants {
  id               String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id        String    @db.Uuid
  appointment_id   String    @db.Uuid
  participant_type String
  participant_id   String    @db.Uuid
  role             String?
  joined_at        DateTime? @db.Timestamptz(6)
  left_at          DateTime? @db.Timestamptz(6)
}

model hms_appointment_rules {
  id             String  @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id      String? @db.Uuid
  company_id     String? @db.Uuid
  clinician_id   String? @db.Uuid
  visit_duration Int?    @default(15)
  working_days   Json?
  working_hours  Json?
  break_hours    Json?
  metadata       Json?
}

model hms_appointment_services {
  id             String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id      String   @db.Uuid
  appointment_id String   @db.Uuid
  service_id     String?  @db.Uuid
  qty            Decimal? @default(1) @db.Decimal(10, 2)
  unit_price     Decimal? @db.Decimal(12, 2)
  is_billable    Boolean? @default(true)
  notes          String?
}

model hms_appointment_tags {
  id             String @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id      String @db.Uuid
  appointment_id String @db.Uuid
  tag            String
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
model hms_appointments {
  id                String    @id
  tenant_id         String?
  company_id        String?
  patient_id        String?
  clinician_id      String?
  department_id     String?
  location_id       String?
  room_id           String?
  starts_at         DateTime? @db.Timestamptz(6)
  ends_at           DateTime? @db.Timestamptz(6)
  duration_minutes  Int?
  status            String?
  type              String?
  mode              String?
  priority          String?
  notes             String?
  source            String?
  ai_suggestion     Json?
  external_ref      String?
  created_at        DateTime? @db.Timestamptz(6)
  updated_at        DateTime? @db.Timestamptz(6)
  created_by        String?
  updated_by        String?
  deleted_at        DateTime? @db.Timestamptz(6)
  branch_id         String?
  hms_imaging_order String[]
  hms_invoice       String[]
  hms_lab_order     String[]
  prescription      String[]
}

model hms_bed {
  id         String  @id
  tenant_id  String?
  company_id String?
  ward_id    String?
  bed_no     String?
  status     String?
  branch_id  String?
}

model hms_billing_rule {
  id            String   @id
  tenant_id     String?
  company_id    String?
  applies_to    String?
  applies_to_id String?
  billing_code  String?
  price         Decimal? @db.Decimal(20, 4)
  metadata      Json?
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
model hms_clinician_availability {
  id           String    @id
  tenant_id    String?
  clinician_id String?
  date         DateTime? @db.Timestamptz(6)
  day_of_week  Int?
  start_time   DateTime? @db.Timestamptz(6)
  end_time     DateTime? @db.Timestamptz(6)
  repeat_rule  String?
  valid_from   DateTime? @db.Timestamptz(6)
  valid_to     DateTime? @db.Timestamptz(6)
  is_active    Boolean?
  notes        String?
}

model hms_clinicians {
  id                         String    @id
  tenant_id                  String?
  company_id                 String?
  department_id              String?
  first_name                 String?
  last_name                  String?
  email                      String?
  phone                      String?
  role                       String?
  specialization             String?
  license_no                 String?
  experience_years           Int?
  is_active                  Boolean?
  created_at                 DateTime? @db.Timestamptz(6)
  updated_at                 DateTime? @db.Timestamptz(6)
  role_id                    String?
  specialization_id          String?
  consultation_end_time      String?
  consultation_slot_duration Int?
  consultation_start_time    String?
  consultation_fee           Decimal?  @db.Decimal(20, 4)
  designation                String?
  employee_id                String?
  qualification              String?
  working_days               String[]
  document_urls              Json[]
  profile_image_url          String?
  signature_url              String?
  user_id                    String?
  hms_appointments           String[]
}

model hms_credit_note {
  id                 String    @id
  tenant_id          String?
  company_id         String?
  invoice_id         String?
  credit_note_number String?
  issued_at          DateTime? @db.Timestamptz(6)
  amount             Decimal?  @db.Decimal(20, 4)
  reason             String?
  line_items         Json[]
  status             String?
  created_by         String?
  created_at         DateTime? @db.Timestamptz(6)
}

model hms_departments {
  id            String    @id
  tenant_id     String?
  company_id    String?
  name          String?
  code          String?
  description   String?
  parent_id     String?
  is_active     Boolean?
  created_by    String?
  updated_by    String?
  created_at    DateTime? @db.Timestamptz(6)
  updated_at    DateTime? @db.Timestamptz(6)
  deleted_at    DateTime? @db.Timestamptz(6)
  crm_employees String[]
}

model hms_diagnosis {
  id           String    @id
  encounter_id String?
  patient_id   String?
  icd_code     String?
  description  String?
  is_primary   Boolean?
  created_at   DateTime? @db.Timestamptz(6)
}

model hms_doctor_role {
  id         String  @id
  tenant_id  String?
  company_id String?
  name       String?
}

model hms_encounter {
  id             String    @id
  tenant_id      String?
  company_id     String?
  patient_id     String?
  encounter_type String?
  started_at     DateTime? @db.Timestamptz(6)
  ended_at       DateTime? @db.Timestamptz(6)
  clinician_id   String?
  metadata       Json?
  created_at     DateTime? @db.Timestamptz(6)
  updated_at     DateTime? @db.Timestamptz(6)
  created_by     String?
  branch_id      String?
  hms_admission  String[]
  hms_invoice    String[]
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model hms_fk_cleanup_log {
  id              String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  cleaned_at      DateTime? @db.Timestamptz(6)
  table_name      String?
  constraint_name String?
  definition      String?

  @@ignore
}

model hms_idempotency_keys {
  id              String    @id
  tenant_id       String?
  key_text        String?
  created_by      String?
  created_at      DateTime? @db.Timestamptz(6)
  request_method  String?
  request_path    String?
  request_body    Json?
  response_status Int?
  response_body   Json?
  processed_at    DateTime? @db.Timestamptz(6)
  processed_by    String?
}

model hms_imaging_image {
  id             String    @id
  series_id      String?
  sop_uid        String?
  thumbnail_url  String?
  storage_url    String?
  dicom_metadata Json?
  created_at     DateTime? @db.Timestamptz(6)
}

model hms_imaging_order {
  id                String    @id
  tenant_id         String?
  company_id        String?
  order_number      String?
  patient_id        String?
  encounter_id      String?
  modality          String?
  ordered_by        String?
  ordered_at        DateTime? @db.Timestamptz(6)
  clinical_notes    String?
  priority          String?
  status            String?
  metadata          Json?
  hms_imaging_study String[]
}

model hms_imaging_series {
  id                String   @id
  study_id          String?
  series_uid        String?
  body_part         String?
  modality          String?
  metadata          Json?
  hms_imaging_image String[]
}

model hms_imaging_study {
  id                 String    @id
  order_id           String?
  study_uid          String?
  description        String?
  performed_at       DateTime? @db.Timestamptz(6)
  metadata           Json?
  hms_imaging_series String[]
}

/// This model contains an index with non-default null sort order and requires additional setup for migrations. Visit https://pris.ly/d/default-index-null-ordering for more info.
model hms_invoice {
  id                      String    @id
  tenant_id               String?
  company_id              String?
  patient_id              String?
  encounter_id            String?
  invoice_number          String?
  issued_at               DateTime? @db.Timestamptz(6)
  due_at                  DateTime? @db.Timestamptz(6)
  currency                String?
  currency_rate           Decimal?  @db.Decimal(20, 4)
  subtotal                Decimal?  @db.Decimal(20, 4)
  total_tax               Decimal?  @db.Decimal(20, 4)
  total_discount          Decimal?  @db.Decimal(20, 4)
  total                   Decimal?  @db.Decimal(20, 4)
  total_paid              Decimal?  @db.Decimal(20, 4)
  status                  String?
  line_items              Json[]
  billing_metadata        Json?
  locked                  Boolean?
  created_by              String?
  created_at              DateTime? @db.Timestamptz(6)
  updated_at              DateTime? @db.Timestamptz(6)
  outstanding             Decimal?  @db.Decimal(20, 4)
  invoice_no              String?
  invoice_date            DateTime? @db.Timestamptz(6)
  due_date                DateTime? @db.Timestamptz(6)
  posted_at               DateTime? @db.Timestamptz(6)
  outstanding_amount      Decimal?  @db.Decimal(20, 4)
  appointment_id          String?
  branch_id               String?
  hms_invoice_lines       String[]
  hms_invoice_payments    String[]
  hms_payment_allocations String[]
  hms_sales_return        String[]
  journal_entries         String[]
}

model hms_invoice_history {
  id          String    @id
  tenant_id   String?
  company_id  String?
  invoice_id  String?
  changed_at  DateTime? @db.Timestamptz(6)
  changed_by  String?
  change_type String?
  delta       Json?
}

model hms_invoice_lines {
  id                    String    @id
  tenant_id             String?
  company_id            String?
  invoice_id            String?
  line_idx              Int?
  line_ref              String?
  product_id            String?
  description           String?
  quantity              Decimal?  @db.Decimal(20, 4)
  uom                   String?
  unit_price            Decimal?  @db.Decimal(20, 4)
  discount_amount       Decimal?  @db.Decimal(20, 4)
  tax_amount            Decimal?  @db.Decimal(20, 4)
  net_amount            Decimal?  @db.Decimal(20, 4)
  account_code          String?
  metadata              Json?
  created_at            DateTime? @db.Timestamptz(6)
  subtotal              Decimal?  @db.Decimal(20, 4)
  tax_rate_id           String?
  hms_sales_return_line String[]
}

model hms_invoice_payments {
  id                      String    @id
  tenant_id               String?
  company_id              String?
  invoice_id              String?
  payment_reference       String?
  paid_at                 DateTime? @db.Timestamptz(6)
  amount                  Decimal?  @db.Decimal(20, 4)
  currency                String?
  method                  String?
  metadata                Json?
  created_by              String?
  created_at              DateTime? @db.Timestamptz(6)
  hms_payment_allocations String[]
}

model hms_invoice_sequence {
  id          String  @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id   String?
  company_id  String?
  last_number String?
}

model hms_lab_order {
  id                  String    @id
  tenant_id           String?
  company_id          String?
  order_number        String?
  patient_id          String?
  encounter_id        String?
  ordered_by          String?
  ordered_at          DateTime? @db.Timestamptz(6)
  status              String?
  clinical_notes      String?
  priority            String?
  billing_code        String?
  metadata            Json?
  created_at          DateTime? @db.Timestamptz(6)
  report_url          String?
  hms_lab_order_line  String[]
  hms_lab_order_lines String[]
}

model hms_lab_order_line {
  id         String    @id
  tenant_id  String?
  company_id String?
  order_id   String?
  test_id    String?
  sample_id  String?
  price      Decimal?  @db.Decimal(20, 4)
  status     String?
  metadata   Json?
  created_at DateTime? @db.Timestamptz(6)
}

model hms_lab_order_lines {
  id             String    @id
  tenant_id      String?
  company_id     String?
  order_id       String?
  test_id        String?
  sample_id      String?
  requested_code String?
  requested_name String?
  price          Decimal?  @db.Decimal(20, 4)
  status         String?
  result_id      String?
  created_at     DateTime? @db.Timestamptz(6)
  updated_at     DateTime? @db.Timestamptz(6)
  hms_lab_result String[]
}

model hms_lab_result {
  id                String    @id
  tenant_id         String?
  company_id        String?
  order_line_id     String?
  test_id           String?
  sample_id         String?
  result_value      String?
  numeric_value     Decimal?  @db.Decimal(20, 4)
  units             String?
  interpreted_value String?
  reference_range   Json?
  reported_by       String?
  reported_at       DateTime? @db.Timestamptz(6)
  verified_by       String?
  verified_at       DateTime? @db.Timestamptz(6)
  attachments       Json[]
  metadata          Json?
  created_at        DateTime? @db.Timestamptz(6)
}

model hms_lab_result_audit {
  id         String    @id
  result_id  String?
  changed_by String?
  changed_at DateTime? @db.Timestamptz(6)
  old        Json?
  new        Json?
}

model hms_lab_sample {
  id                      String    @id
  tenant_id               String?
  company_id              String?
  sample_barcode          String?
  sample_type             String?
  collected_at            DateTime? @db.Timestamptz(6)
  collected_by            String?
  collected_from_location String?
  received_at             DateTime? @db.Timestamptz(6)
  received_by             String?
  status                  String?
  metadata                Json?
  created_at              DateTime? @db.Timestamptz(6)
  hms_lab_order_line      String[]
  hms_lab_order_lines     String[]
  hms_lab_result          String[]
}

model hms_lab_test {
  id                  String    @id
  tenant_id           String?
  company_id          String?
  code                String?
  loinc_code          String?
  name                String?
  method              String?
  units               String?
  reference_range     Json?
  group_id            String?
  is_panel            Boolean?
  metadata            Json?
  created_by          String?
  created_at          DateTime? @db.Timestamptz(6)
  updated_at          DateTime? @db.Timestamptz(6)
  hms_lab_order_line  String[]
  hms_lab_order_lines String[]
  hms_lab_result      String[]
}

model hms_lab_test_group {
  id           String    @id
  tenant_id    String?
  company_id   String?
  name         String?
  description  String?
  is_active    Boolean?
  created_by   String?
  created_at   DateTime? @db.Timestamptz(6)
  updated_at   DateTime? @db.Timestamptz(6)
  metadata     Json?
  hms_lab_test String[]
}

model hms_lab_test_panel_member {
  id             String  @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  panel_id       String?
  member_test_id String?
  ord            Int?
}

model hms_medication_administration {
  id                  String    @id
  medication_order_id String?
  administered_by     String?
  administered_at     DateTime? @db.Timestamptz(6)
  notes               String?
}

model hms_medication_order {
  id                            String    @id
  patient_id                    String?
  encounter_id                  String?
  drug_id                       String?
  dose                          String?
  frequency                     String?
  route                         String?
  duration                      String?
  notes                         String?
  created_by                    String?
  created_at                    DateTime? @db.Timestamptz(6)
  hms_medication_administration String[]
}

model hms_outbox {
  id             String    @id
  tenant_id      String?
  aggregate_type String?
  aggregate_id   String?
  event_type     String?
  payload        Json?
  attempts       Int?
  locked_at      DateTime? @db.Timestamptz(6)
  processed_at   DateTime? @db.Timestamptz(6)
  last_error     String?
  created_at     DateTime? @db.Timestamptz(6)
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
/// This model contains an expression index which requires additional setup for migrations. Visit https://pris.ly/d/expression-indexes for more info.
model hms_patient {
  id                String    @id
  tenant_id         String?
  company_id        String?
  patient_number    String?
  first_name        String?
  last_name         String?
  dob               DateTime? @db.Timestamptz(6)
  gender            String?
  identifiers       Json?
  contact           Json?
  metadata          Json?
  created_by        String?
  created_at        DateTime? @db.Timestamptz(6)
  updated_at        DateTime? @db.Timestamptz(6)
  external_id       String?
  status            String?
  merged_into       String?
  source_system     String?
  updated_by        String?
  full_name         String?
  profile_image_url String?
  blood_group       String?
  branch_id         String?
  hms_admission     String[]
  hms_appointments  String[]
  hms_encounter     String[]
  hms_imaging_order String[]
  hms_invoice       String[]
  hms_lab_order     String[]
  hms_sales_return  String[]
  hms_vitals        String[]
  prescription      String[]
}

model hms_patient_audit {
  id         String    @id
  patient_id String?
  operation  String?
  changed_at DateTime? @db.Timestamptz(6)
  changed_by String?
  row_data   Json?
}

model hms_patient_history {
  history_id String    @id
  patient_id String?
  tenant_id  String?
  operation  String?
  changed_by String?
  changed_at DateTime? @db.Timestamptz(6)
  old_data   Json?
  new_data   Json?
  diff       Json?
}

model hms_patient_insights {
  id                String    @id
  tenant_id         String?
  patient_id        String?
  risk_score        Int?
  gender_suggestion String?
  anomalies         Json[]
  timeline_summary  String?
  computed_at       DateTime? @db.Timestamptz(6)
}

model hms_patient_version {
  version_id String    @id
  patient_id String?
  tenant_id  String?
  version_no Int?
  data       Json?
  created_at DateTime? @db.Timestamptz(6)
  created_by String?
}

model hms_patient_registration_fees {
  id            String    @id
  tenant_id     String?
  company_id    String?
  fee_amount    Decimal?  @db.Decimal(20, 4)
  validity_days Int?
  is_active     Boolean?
  created_at    DateTime? @db.Timestamptz(6)
  updated_at    DateTime? @db.Timestamptz(6)
}

model hms_payment_allocations {
  id               String    @id
  tenant_id        String?
  company_id       String?
  payment_id       String?
  invoice_id       String?
  allocated_amount Decimal?  @db.Decimal(20, 4)
  created_at       DateTime? @db.Timestamptz(6)
}

model hms_procedure {
  id           String    @id
  encounter_id String?
  patient_id   String?
  cpt_code     String?
  description  String?
  performed_by String?
  performed_at DateTime? @db.Timestamptz(6)
  status       String?
  notes        String?
}

model hms_product {
  id                         String    @id @default(dbgenerated("gen_random_uuid()"))
  tenant_id                  String?
  company_id                 String?
  sku                        String?
  name                       String?
  description                String?
  is_stockable               Boolean?
  is_service                 Boolean?
  uom                        String?
  valuation_method           String?
  price                      Decimal?  @db.Decimal(20, 4)
  currency                   String?
  default_cost               Decimal?  @db.Decimal(20, 4)
  metadata                   Json?
  created_at                 DateTime? @db.Timestamptz(6)
  created_by                 String?
  updated_at                 DateTime? @db.Timestamptz(6)
  updated_by                 String?
  deleted_at                 DateTime? @db.Timestamptz(6)
  is_active                  Boolean?
  default_barcode            String?
  barcode_type               String?
  manufacturer_id            String?
  uom_id                     String?
  hms_invoice_lines          String[]
  hms_medication_order       String[]
  hms_product_batch          String[]
  hms_product_category_rel   String[]
  hms_product_image          String[]
  hms_product_price_history  String[]
  hms_product_stock_ledger   String[]
  hms_product_supplier       String[]
  hms_product_uom_conversion String[]
  hms_purchase_order_line    String[]
  hms_purchase_return_line   String[]
  hms_sales_return_line      String[]
  hms_stock_adjustment_line  String[]
  hms_stock_ledger           String[]
  hms_stock_levels           String[]
  prescription_items         String[]
  product_tax_rules          String[]
}

model hms_product_batch {
  id                        String    @id @default(dbgenerated("gen_random_uuid()"))
  tenant_id                 String?
  company_id                String?
  product_id                String?
  batch_no                  String?
  expiry_date               DateTime? @db.Timestamptz(6)
  mrp                       Decimal?  @db.Decimal(20, 4)
  cost                      Decimal?  @db.Decimal(20, 4)
  qty_on_hand               Decimal?  @db.Decimal(20, 4)
  vendor_barcode            String?
  internal_barcode          String?
  created_at                DateTime? @db.Timestamptz(6)
  created_by                String?
  metadata                  Json?
  manufacturer_id           String?
  uom_id                    String?
  margin_percentage         Decimal?  @db.Decimal(20, 4)
  markup_percentage         Decimal?  @db.Decimal(20, 4)
  pricing_strategy          String?
  sale_price                Decimal?  @db.Decimal(20, 4)
  hms_product_stock_ledger  String[]
  hms_stock_adjustment_line String[]
}

model hms_product_category {
  id                       String    @id @default(dbgenerated("gen_random_uuid()"))
  tenant_id                String?
  company_id               String?
  name                     String?
  slug                     String?
  metadata                 Json?
  created_at               DateTime? @db.Timestamptz(6)
  default_tax_rate_id      String?
  expense_account_id       String?
  income_account_id        String?
  hms_product_category_rel String[]
}

model hms_product_category_rel {
  id          String  @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  product_id  String?
  category_id String?
}

model hms_manufacturer {
  id                String    @id
  tenant_id         String?
  company_id        String?
  name              String?
  description       String?
  website           String?
  is_active         Boolean?
  created_at        DateTime? @db.Timestamptz(6)
  updated_at        DateTime? @db.Timestamptz(6)
  hms_product       String[]
  hms_product_batch String[]
}

model hms_uom_category {
  id         String    @id
  tenant_id  String?
  company_id String?
  name       String?
  created_at DateTime? @db.Timestamptz(6)
  hms_uom    String[]
}

model hms_uom {
  id                String    @id
  tenant_id         String?
  company_id        String?
  category_id       String?
  name              String?
  uom_type          String?
  ratio             Decimal?  @db.Decimal(20, 4)
  rounding          Decimal?  @db.Decimal(20, 4)
  is_active         Boolean?
  created_at        DateTime? @db.Timestamptz(6)
  hms_product       String[]
  hms_product_batch String[]
}

model hms_product_image {
  id         String    @id
  tenant_id  String?
  company_id String?
  product_id String?
  url        String?
  caption    String?
  created_at DateTime? @db.Timestamptz(6)
  created_by String?
}

model hms_product_price_history {
  id         String    @id
  tenant_id  String?
  company_id String?
  product_id String?
  price      Decimal?  @db.Decimal(20, 4)
  currency   String?
  valid_from DateTime? @db.Timestamptz(6)
  valid_to   DateTime? @db.Timestamptz(6)
  created_at DateTime? @db.Timestamptz(6)
  created_by String?
  metadata   Json?
}

model hms_product_stock_ledger {
  id            String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id     String?   @db.Uuid
  company_id    String?   @db.Uuid
  product_id    String?   @db.Uuid
  location      String?   @db.Uuid
  change_qty    Decimal?  @db.Decimal(20, 4)
  balance_qty   Decimal?  @db.Decimal(20, 4)
  movement_type String?
  reference     String?
  cost          Decimal?  @db.Decimal(20, 4)
  created_at    DateTime? @db.Timestamptz(6)
  created_by    String?
  metadata      Json?
  batch_id      String?   @db.Uuid
}

model hms_product_supplier {
  id             String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  product_id     String?
  supplier_id    String?
  supplier_sku   String?
  lead_time_days Int?
  price          Decimal? @db.Decimal(20, 4)
  currency       String?
  company_id     String?
  is_primary     Boolean?
  tenant_id      String?
}

model hms_product_uom_conversion {
  id         String   @id
  tenant_id  String?
  company_id String?
  product_id String?
  from_uom   String?
  to_uom     String?
  factor     Decimal? @db.Decimal(20, 4)
}

model hms_progress_notes {
  id           String    @id
  encounter_id String?
  patient_id   String?
  author_id    String?
  note         String?
  ai_note      String?
  created_at   DateTime? @db.Timestamptz(6)
  updated_at   DateTime? @db.Timestamptz(6)
}

model hms_purchase_invoice {
  id                        String    @id @default(dbgenerated("gen_random_uuid()"))
  tenant_id                 String?
  company_id                String?
  purchase_order_id         String?
  supplier_id               String?
  name                      String?
  invoice_date              DateTime? @db.Timestamptz(6)
  due_date                  DateTime? @db.Timestamptz(6)
  subtotal                  Decimal?  @db.Decimal(20, 4)
  tax_total                 Decimal?  @db.Decimal(20, 4)
  total_amount              Decimal?  @db.Decimal(20, 4)
  paid_amount               Decimal?  @db.Decimal(20, 4)
  currency                  String?
  status                    String?
  attachments               Json?
  metadata                  Json?
  created_at                DateTime? @db.Timestamptz(6)
  updated_at                DateTime? @db.Timestamptz(6)
  hms_purchase_invoice_line String[]
  journal_entries           String[]
}

model hms_purchase_invoice_line {
  id          String    @id @default(dbgenerated("gen_random_uuid()"))
  tenant_id   String?
  company_id  String?
  invoice_id  String?
  po_line_id  String?
  product_id  String?
  description String?
  qty         Decimal?  @db.Decimal(20, 4)
  unit_price  Decimal?  @db.Decimal(20, 4)
  tax         Json?
  line_total  Decimal?  @db.Decimal(20, 4)
  metadata    Json?
  created_at  DateTime? @db.Timestamptz(6)
}

model hms_purchase_order {
  id                      String    @id
  tenant_id               String?
  company_id              String?
  name                    String?
  supplier_id             String?
  supplier_reference      String?
  order_date              DateTime? @db.Timestamptz(6)
  expected_date           DateTime? @db.Timestamptz(6)
  currency                String?
  subtotal                Decimal?  @db.Decimal(20, 4)
  total_tax               Decimal?  @db.Decimal(20, 4)
  total_amount            Decimal?  @db.Decimal(20, 4)
  status                  String?
  notes                   String?
  attachments             Json?
  metadata                Json?
  created_at              DateTime? @db.Timestamptz(6)
  created_by              String?
  updated_at              DateTime? @db.Timestamptz(6)
  updated_by              String?
  hms_purchase_invoice    String[]
  hms_purchase_order_line String[]
  hms_purchase_receipt    String[]
}

model hms_purchase_order_line {
  id                        String    @id
  tenant_id                 String?
  company_id                String?
  purchase_order_id         String?
  line_no                   Int?
  product_id                String?
  product_name              String?
  description               String?
  qty                       Decimal?  @db.Decimal(20, 4)
  uom                       String?
  unit_price                Decimal?  @db.Decimal(20, 4)
  discount_percent          Decimal?  @db.Decimal(20, 4)
  tax                       Json?
  tax_amount                Decimal?  @db.Decimal(20, 4)
  line_total                Decimal?  @db.Decimal(20, 4)
  received_qty              Decimal?  @db.Decimal(20, 4)
  batch_no                  String?
  metadata                  Json?
  created_at                DateTime? @db.Timestamptz(6)
  updated_at                DateTime? @db.Timestamptz(6)
  hms_purchase_invoice_line String[]
  hms_purchase_receipt_line String[]
}

model hms_purchase_receipt {
  id                        String    @id @default(dbgenerated("gen_random_uuid()"))
  tenant_id                 String?
  company_id                String?
  purchase_order_id         String?
  name                      String?
  receipt_date              DateTime? @db.Timestamptz(6)
  status                    String?
  received_by               String?
  notes                     String?
  attachments               Json?
  metadata                  Json?
  created_at                DateTime? @db.Timestamptz(6)
  updated_at                DateTime? @db.Timestamptz(6)
  supplier_id               String?
  hms_purchase_receipt_line String[]
  hms_purchase_return       String[]
}

model hms_purchase_receipt_line {
  id                       String    @id @default(dbgenerated("gen_random_uuid()"))
  tenant_id                String?
  company_id               String?
  receipt_id               String?
  po_line_id               String?
  product_id               String?
  qty                      Decimal?  @db.Decimal(20, 4)
  uom                      String?
  unit_price               Decimal?  @db.Decimal(20, 4)
  batch_id                 String?
  batch_no                 String?
  location_id              String?
  lot_number               String?
  metadata                 Json?
  created_at               DateTime? @db.Timestamptz(6)
  hms_purchase_return_line String[]
}

model hms_purchase_return {
  id              String    @id
  tenant_id       String?
  company_id      String?
  receipt_id      String?
  supplier_id     String?
  return_number   String?
  return_date     DateTime? @db.Timestamptz(6)
  status          String?
  reason          String?
  subtotal        Decimal?  @db.Decimal(20, 4)
  total_tax       Decimal?  @db.Decimal(20, 4)
  total_amount    Decimal?  @db.Decimal(20, 4)
  metadata        Json?
  created_at      DateTime? @db.Timestamptz(6)
  created_by      String?
  lines           String[]
  journal_entries String[]
}

model hms_purchase_return_line {
  id              String    @id
  tenant_id       String?
  company_id      String?
  return_id       String?
  receipt_line_id String?
  product_id      String?
  qty             Decimal?  @db.Decimal(20, 4)
  unit_price      Decimal?  @db.Decimal(20, 4)
  tax_amount      Decimal?  @db.Decimal(20, 4)
  line_total      Decimal?  @db.Decimal(20, 4)
  batch_no        String?
  batch_id        String?
  metadata        Json?
  created_at      DateTime? @db.Timestamptz(6)
}

model hms_sales_return {
  id              String    @id
  tenant_id       String?
  company_id      String?
  invoice_id      String?
  patient_id      String?
  return_number   String?
  return_date     DateTime? @db.Timestamptz(6)
  status          String?
  reason          String?
  total_amount    Decimal?  @db.Decimal(20, 4)
  metadata        Json?
  created_at      DateTime? @db.Timestamptz(6)
  created_by      String?
  lines           String[]
  journal_entries String[]
}

model hms_sales_return_line {
  id              String    @id
  tenant_id       String?
  company_id      String?
  return_id       String?
  invoice_line_id String?
  product_id      String?
  qty             Decimal?  @db.Decimal(20, 4)
  unit_price      Decimal?  @db.Decimal(20, 4)
  line_total      Decimal?  @db.Decimal(20, 4)
  metadata        Json?
  created_at      DateTime? @db.Timestamptz(6)
}

model hms_stock_adjustment {
  id              String    @id
  tenant_id       String?
  company_id      String?
  adj_number      String?
  adj_date        DateTime? @db.Timestamptz(6)
  reason_code     String?
  status          String?
  notes           String?
  metadata        Json?
  created_at      DateTime? @db.Timestamptz(6)
  created_by      String?
  lines           String[]
  journal_entries String[]
}

model hms_stock_adjustment_line {
  id            String    @id
  tenant_id     String?
  company_id    String?
  adjustment_id String?
  product_id    String?
  location_id   String?
  batch_id      String?
  system_qty    Decimal?  @db.Decimal(20, 4)
  physical_qty  Decimal?  @db.Decimal(20, 4)
  diff_qty      Decimal?  @db.Decimal(20, 4)
  unit_cost     Decimal?  @db.Decimal(20, 4)
  metadata      Json?
  created_at    DateTime? @db.Timestamptz(6)
}

model hms_role {
  id                   String   @id
  tenant_id            String?
  name                 String?
  description          String?
  module               String?
  hms_role_permissions String[]
  hms_user_roles       String[]
}

model hms_role_permissions {
  id         String  @id
  role_id    String?
  permission String?
}

/// This model contains an expression index which requires additional setup for migrations. Visit https://pris.ly/d/expression-indexes for more info.
model hms_roles {
  id             String    @id
  tenant_id      String?
  company_id     String?
  name           String?
  code           String?
  description    String?
  is_clinical    Boolean?
  is_active      Boolean?
  created_at     DateTime? @db.Timestamptz(6)
  updated_at     DateTime? @db.Timestamptz(6)
  hms_clinicians String[]
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
model hms_settings {
  id         String    @id
  tenant_id  String?
  company_id String?
  key        String?
  value      Json?
  scope      String?
  version    Int?
  updated_by String?
  updated_at DateTime? @db.Timestamptz(6)
  created_at DateTime? @db.Timestamptz(6)
  created_by String?
  is_active  Boolean?
  metadata   Json?
}

/// This model contains an expression index which requires additional setup for migrations. Visit https://pris.ly/d/expression-indexes for more info.
model hms_specializations {
  id             String    @id
  tenant_id      String?
  company_id     String?
  name           String?
  description    String?
  is_active      Boolean?
  created_at     DateTime? @db.Timestamptz(6)
  updated_at     DateTime? @db.Timestamptz(6)
  hms_clinicians String[]
}

model hms_staff {
  id         String    @id
  tenant_id  String?
  company_id String?
  name       String?
  role       String?
  created_at DateTime? @db.Timestamptz(6)
}

model hms_stock_ledger {
  id               String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id        String    @db.Uuid
  company_id       String    @db.Uuid
  product_id       String    @db.Uuid
  related_type     String?
  related_id       String?   @db.Uuid
  movement_type    String
  qty              Decimal   @db.Decimal(20, 4)
  uom              String?
  unit_cost        Decimal?  @db.Decimal(20, 4)
  total_cost       Decimal?  @db.Decimal(20, 4)
  from_location_id String?   @db.Uuid
  to_location_id   String?   @db.Uuid
  batch_id         String?   @db.Uuid
  lot_number       String?
  reference        String?
  created_at       DateTime? @db.Timestamptz(6)
  metadata         Json?
}

model hms_stock_levels {
  id          String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id   String?   @db.Uuid
  company_id  String?   @db.Uuid
  product_id  String?   @db.Uuid
  batch_id    String?   @db.Uuid
  location_id String?   @db.Uuid
  quantity    Decimal?  @db.Decimal(20, 4)
  reserved    Decimal?  @db.Decimal(20, 4)
  updated_at  DateTime? @db.Timestamptz(6)
  metadata    Json?

  @@unique([tenant_id, company_id, product_id, location_id, batch_id], map: "ux_hms_stock_levels_unique")
}

model hms_stock_location {
  id                        String    @id @default(dbgenerated("gen_random_uuid()"))
  tenant_id                 String?
  company_id                String?
  code                      String?
  name                      String?
  location_type             String?
  metadata                  Json?
  created_at                DateTime? @db.Timestamptz(6)
  hms_stock_adjustment_line String[]
  hms_stock_reservation     String[]
}

model hms_stock_locations {
  id         String    @id @default(dbgenerated("gen_random_uuid()"))
  tenant_id  String?
  company_id String?
  name       String?
  code       String?
  is_default Boolean?
  metadata   Json?
  created_at DateTime? @db.Timestamptz(6)
  created_by String?
}

model hms_stock_lot {
  id             String    @id
  tenant_id      String?
  company_id     String?
  product_id     String?
  lot_number     String?
  serial_number  String?
  expiry_date    DateTime? @db.Timestamptz(6)
  quantity       Decimal?  @db.Decimal(20, 4)
  metadata       Json?
  created_at     DateTime? @db.Timestamptz(6)
  hms_stock_move String[]
}

model hms_stock_move {
  id                  String    @id @default(dbgenerated("gen_random_uuid()"))
  tenant_id           String?
  company_id          String?
  product_id          String?
  location_from       String?
  location_to         String?
  lot_id              String?
  qty                 Decimal?  @db.Decimal(20, 4)
  uom                 String?
  move_type           String?
  source              String?
  source_reference    String?
  cost                Decimal?  @db.Decimal(20, 4)
  created_by          String?
  created_at          DateTime? @db.Timestamptz(6)
  hms_stock_valuation String[]
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
model hms_stock_reservation {
  id              String    @id
  tenant_id       String?
  company_id      String?
  product_id      String?
  location_id     String?
  qty             Decimal?  @db.Decimal(20, 4)
  reserved_for    String?
  expires_at      DateTime? @db.Timestamptz(6)
  created_by      String?
  created_at      DateTime? @db.Timestamptz(6)
  idempotency_key String?
  status          String?
  updated_at      DateTime? @db.Timestamptz(6)
}

model hms_stock_valuation {
  id            String    @id @default(dbgenerated("gen_random_uuid()"))
  tenant_id     String?
  company_id    String?
  stock_move_id String?
  account_code  String?
  amount        Decimal?  @db.Decimal(20, 4)
  created_at    DateTime? @db.Timestamptz(6)
}

model hms_supplier {
  id                   String    @id @default(dbgenerated("gen_random_uuid()"))
  tenant_id            String?
  company_id           String?
  name                 String?
  metadata             Json?
  created_at           DateTime? @db.Timestamptz(6)
  is_active            Boolean?
  hms_product_supplier String[]
  hms_purchase_invoice String[]
  hms_purchase_order   String[]
  hms_purchase_receipt String[]
  hms_purchase_return  String[]
}

model hms_tax_rule {
  id         String    @id
  tenant_id  String?
  code       String?
  name       String?
  rate       Decimal?  @db.Decimal(20, 4)
  metadata   Json?
  created_at DateTime? @db.Timestamptz(6)
}

model hms_triage {
  id           String    @id
  encounter_id String?
  patient_id   String?
  severity     String?
  complaints   String?
  onset        String?
  risk_flags   Json[]
  created_at   DateTime? @db.Timestamptz(6)
}

model hms_user_roles {
  id      String  @id
  user_id String?
  role_id String?
}

model hms_vitals {
  id           String    @id
  tenant_id    String?
  company_id   String?
  patient_id   String?
  encounter_id String?
  recorded_at  DateTime? @db.Timestamptz(6)
  temperature  Decimal?  @db.Decimal(20, 4)
  pulse        Decimal?  @db.Decimal(20, 4)
  respiration  Decimal?  @db.Decimal(20, 4)
  systolic     Decimal?  @db.Decimal(20, 4)
  diastolic    Decimal?  @db.Decimal(20, 4)
  spo2         Decimal?  @db.Decimal(20, 4)
  notes        String?
  metadata     Json?
  height       Decimal?  @db.Decimal(20, 4)
  weight       Decimal?  @db.Decimal(20, 4)
}

model hms_ward {
  id         String   @id
  tenant_id  String?
  company_id String?
  name       String?
  is_active  Boolean?
  branch_id  String?
  hms_bed    String[]
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model import_job {
  id          String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id   String?
  company_id  String?
  uploaded_by String?
  filename    String?
  status      String?
  summary     Json?
  error       String?
  created_at  DateTime? @db.Timestamptz(6)
  updated_at  DateTime? @db.Timestamptz(6)

  @@ignore
}

model invoice_sequences {
  id           String    @id
  tenant_id    String?
  company_id   String?
  prefix       String?
  next_number  String?
  padding      Int?
  yearly_reset Boolean?
  updated_at   DateTime? @db.Timestamptz(6)
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model journal_entries {
  id                         String    @id @default(dbgenerated("gen_random_uuid()"))
  tenant_id                  String?
  company_id                 String?
  journal_id                 String?
  ref                        String?
  date                       DateTime? @db.Timestamptz(6)
  posted                     Boolean?
  posted_at                  DateTime? @db.Timestamptz(6)
  created_by                 String?
  created_at                 DateTime? @db.Timestamptz(6)
  metadata                   Json?
  invoice_id                 String?
  currency_id                String?
  amount_in_company_currency Decimal?  @db.Decimal(20, 4)
  fx_rate                    Decimal?  @db.Decimal(20, 4)
  purchase_invoice_id        String?
  purchase_return_id         String?
  sales_return_id            String?
  stock_adjustment_id        String?
  journal_entry_lines        String[]
  journal_lines              String[]
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model journal_entry_lines {
  id                  String    @id @default(dbgenerated("gen_random_uuid()"))
  tenant_id           String?
  company_id          String?
  journal_entry_id    String?
  account_id          String?
  debit               Decimal?  @db.Decimal(20, 4)
  credit              Decimal?  @db.Decimal(20, 4)
  partner_id          String?
  tax_type_id         String?
  tax_rate_id         String?
  description         String?
  created_at          DateTime? @db.Timestamptz(6)
  analytic_account_id String?
  analytic_tag_ids    String[]
  is_tax_line         Boolean?
  metadata            Json?
}

model journal_lines {
  id               String    @id
  tenant_id        String?
  company_id       String?
  journal_entry_id String?
  account_id       String?
  partner_id       String?
  debit            Decimal?  @db.Decimal(20, 4)
  credit           Decimal?  @db.Decimal(20, 4)
  tax_rate_id      String?
  tax_type_id      String?
  created_at       DateTime? @db.Timestamptz(6)
  updated_at       DateTime? @db.Timestamptz(6)
}

model journal_sequences {
  id           String    @id
  tenant_id    String?
  company_id   String?
  journal_id   String?
  prefix       String?
  next_number  String?
  padding      Int?
  reset_period String?
  created_at   DateTime? @db.Timestamptz(6)
}

model journal_types {
  id            String    @id
  code          String?
  name          String?
  description   String?
  created_at    DateTime? @db.Timestamptz(6)
  posting_rules String[]
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model journals {
  id                        String    @id
  tenant_id                 String?
  company_id                String?
  code                      String?
  name                      String?
  type                      String?
  default_debit_account_id  String?
  default_credit_account_id String?
  created_at                DateTime? @db.Timestamptz(6)
  branch_id                 String?
  journal_entries           String[]
  journal_sequences         String?
}

model lab_test_group {
  id         String   @id
  tenant_id  String?
  company_id String?
  name       String?
  is_active  Boolean?
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
/// This model contains an expression index which requires additional setup for migrations. Visit https://pris.ly/d/expression-indexes for more info.
model lead {
  id                 String    @id
  tenant_id          String?
  company_id         String?
  owner_id           String?
  pipeline_id        String?
  stage_id           String?
  name               String?
  primary_email      String?
  primary_phone      String?
  source_id          String?
  status             String?
  estimated_value    Decimal?  @db.Decimal(20, 4)
  probability        Decimal?  @db.Decimal(20, 4)
  priority           Int?
  custom_data        Json?
  tags               String[]
  meta               Json?
  created_by         String?
  created_at         DateTime? @db.Timestamptz(6)
  updated_at         DateTime? @db.Timestamptz(6)
  metadata           Json?
  stage              String?
  primary_phone_e164 String?
  profession_id      String?
  profession_name    String?
  industry_id        String?
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model lead_activity {
  id         String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  lead_id    String?
  tenant_id  String?
  actor_id   String?
  actor_type String?
  action_key String?
  payload    Json?
  created_at DateTime? @db.Timestamptz(6)
  company_id String?

  @@ignore
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model lead_assignment {
  id            String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  lead_id       String?
  tenant_id     String?
  assigned_from String?
  assigned_to   String?
  assigned_by   String?
  reason        String?
  created_at    DateTime? @db.Timestamptz(6)
  company_id    String?

  @@ignore
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model lead_assignment_history {
  id         String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id  String?
  lead_id    String?
  rule_id    String?
  from_owner String?
  to_owner   String?
  reason     String?
  created_by String?
  created_at DateTime? @db.Timestamptz(6)

  @@ignore
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model lead_assignment_rule {
  id          String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id   String?
  pipeline_id String?
  criteria    Json?
  assign_to   String?
  priority    Int?
  active      Boolean?
  created_at  DateTime? @db.Timestamptz(6)
  updated_at  DateTime? @db.Timestamptz(6)

  @@ignore
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model lead_duplicate {
  id           String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id    String?
  lead_id      String?
  duplicate_of String?
  score        Decimal?  @db.Decimal(20, 4)
  status       String?
  created_at   DateTime? @db.Timestamptz(6)

  @@ignore
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model lead_event {
  id         String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id  String?
  lead_id    String?
  event_key  String?
  payload    Json?
  created_at DateTime? @db.Timestamptz(6)
  company_id String?

  @@ignore
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
model lead_followups {
  id             String    @id
  tenant_id      String?
  company_id     String?
  lead_id        String?
  due_at         DateTime? @db.Timestamptz(6)
  status         String?
  note           String?
  created_by     String?
  changed_by     String?
  change_reason  String?
  version        Int?
  effective_from DateTime? @db.Timestamptz(6)
  effective_to   DateTime? @db.Timestamptz(6)
  created_at     DateTime? @db.Timestamptz(6)
  updated_at     DateTime? @db.Timestamptz(6)
  due_date_local DateTime? @db.Timestamptz(6)
}

model lead_history {
  id         String    @id
  tenant_id  String?
  lead_id    String?
  event_type String?
  field_key  String?
  old_value  Json?
  new_value  Json?
  meta       Json?
  created_by String?
  created_at DateTime? @db.Timestamptz(6)
}

/// This model contains an expression index which requires additional setup for migrations. Visit https://pris.ly/d/expression-indexes for more info.
model lead_industry {
  id          String    @id
  tenant_id   String?
  name        String?
  description String?
  is_active   Boolean?
  created_by  String?
  created_at  DateTime? @db.Timestamptz(6)
  updated_at  DateTime? @db.Timestamptz(6)
  deleted_at  DateTime? @db.Timestamptz(6)
  deleted_by  String?
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model lead_note {
  id         String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  lead_id    String?
  tenant_id  String?
  author_id  String?
  body       String?
  visibility String?
  metadata   Json?
  created_at DateTime? @db.Timestamptz(6)
  company_id String?

  @@ignore
}

/// This model contains an expression index which requires additional setup for migrations. Visit https://pris.ly/d/expression-indexes for more info.
model lead_pipeline {
  id          String    @id
  tenant_id   String?
  name        String?
  description String?
  is_active   Boolean?
  created_by  String?
  created_at  DateTime? @db.Timestamptz(6)
  updated_at  DateTime? @db.Timestamptz(6)
  deleted_at  DateTime? @db.Timestamptz(6)
  deleted_by  String?
  lead_stage  String[]
}

/// This model contains an expression index which requires additional setup for migrations. Visit https://pris.ly/d/expression-indexes for more info.
model lead_profession {
  id          String    @id
  tenant_id   String?
  name        String?
  category    String?
  description String?
  is_active   Boolean?
  created_by  String?
  created_at  DateTime? @db.Timestamptz(6)
  updated_at  DateTime? @db.Timestamptz(6)
  deleted_at  DateTime? @db.Timestamptz(6)
  deleted_by  String?
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model lead_schedule {
  id           String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id    String?
  lead_id      String?
  title        String?
  note         String?
  scheduled_at DateTime? @db.Timestamptz(6)
  assignee_id  String?
  done_at      DateTime? @db.Timestamptz(6)
  created_at   DateTime? @db.Timestamptz(6)
  updated_at   DateTime? @db.Timestamptz(6)
  company_id   String?

  @@ignore
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model lead_source {
  id          String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id   String?
  key         String?
  name        String?
  config      Json?
  created_at  DateTime? @db.Timestamptz(6)
  updated_at  DateTime? @db.Timestamptz(6)
  description String?
  is_active   Boolean?
  deleted_at  DateTime? @db.Timestamptz(6)
  deleted_by  String?

  @@ignore
}

/// This model contains an expression index which requires additional setup for migrations. Visit https://pris.ly/d/expression-indexes for more info.
model lead_stage {
  id                  String    @id
  tenant_id           String?
  pipeline_id         String?
  name                String?
  order               Int?
  is_won              Boolean?
  is_lost             Boolean?
  is_active           Boolean?
  default_probability Decimal?  @db.Decimal(20, 4)
  created_by          String?
  created_at          DateTime? @db.Timestamptz(6)
  updated_at          DateTime? @db.Timestamptz(6)
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model lead_stage_history {
  id            String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  lead_id       String?
  from_stage_id String?
  to_stage_id   String?
  changed_by    String?
  reason        String?
  created_at    DateTime? @db.Timestamptz(6)
  tenant_id     String?
  from_stage    String?
  to_stage      String?

  @@ignore
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model lead_tag {
  id         String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  lead_id    String?
  tag_id     String?
  created_at DateTime? @db.Timestamptz(6)

  @@ignore
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model lead_task {
  id           String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id    String?
  lead_id      String?
  title        String?
  due_date     DateTime? @db.Timestamptz(6)
  status       String?
  assigned_to  String?
  created_by   String?
  created_at   DateTime? @db.Timestamptz(6)
  completed_at DateTime? @db.Timestamptz(6)
  company_id   String?

  @@ignore
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model lead_template {
  id          String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id   String?
  key         String?
  name        String?
  description String?
  spec        Json?
  scope       Json?
  is_active   Boolean?
  created_by  String?
  updated_by  String?
  created_at  DateTime? @db.Timestamptz(6)
  updated_at  DateTime? @db.Timestamptz(6)

  @@ignore
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model lead_template_pipeline_map {
  id                   String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  lead_template_id     String?
  pipeline_template_id String?
  created_at           DateTime? @db.Timestamptz(6)

  @@ignore
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
model ledger_posting_rules {
  id                String    @id
  tenant_id         String?
  company_id        String?
  source_type       String?
  debit_account_id  String?
  credit_account_id String?
  description       String?
  created_at        DateTime? @db.Timestamptz(6)
}

model loyalty_customer_points {
  id          String    @id
  tenant_id   String?
  company_id  String?
  customer_id String?
  points      Decimal?  @db.Decimal(20, 4)
  updated_at  DateTime? @db.Timestamptz(6)
}

model loyalty_program {
  id           String    @id
  tenant_id    String?
  company_id   String?
  name         String?
  earn_rate    Decimal?  @db.Decimal(20, 4)
  redeem_rate  Decimal?  @db.Decimal(20, 4)
  is_active    Boolean?
  created_at   DateTime? @db.Timestamptz(6)
  loyalty_rule String[]
}

model loyalty_rule {
  id         String  @id
  program_id String?
  rule_type  String?
  config     Json?
}

model loyalty_transaction {
  id          String    @id
  tenant_id   String?
  company_id  String?
  customer_id String?
  change      Decimal?  @db.Decimal(20, 4)
  reason      String?
  created_at  DateTime? @db.Timestamptz(6)
}

model manufacturing_bom {
  id                     String    @id
  tenant_id              String?
  company_id             String?
  product_id             String?
  code                   String?
  name                   String?
  quantity               Decimal?  @db.Decimal(20, 4)
  uom                    String?
  version                Int?
  is_active              Boolean?
  created_at             DateTime? @db.Timestamptz(6)
  manufacturing_bom_line String[]
}

model manufacturing_bom_line {
  id           String    @id
  tenant_id    String?
  company_id   String?
  bom_id       String?
  component_id String?
  quantity     Decimal?  @db.Decimal(20, 4)
  uom_id       String?
  created_by   String?
  created_at   DateTime? @db.Timestamptz(6)
}

model manufacturing_consumption {
  id           String    @id
  tenant_id    String?
  company_id   String?
  order_id     String?
  component_id String?
  quantity     Decimal?  @db.Decimal(20, 4)
  created_by   String?
  created_at   DateTime? @db.Timestamptz(6)
}

model manufacturing_order {
  id                            String    @id
  tenant_id                     String?
  company_id                    String?
  product_id                    String?
  bom_id                        String?
  routing_id                    String?
  quantity                      Decimal?  @db.Decimal(20, 4)
  status                        String?
  planned_start                 DateTime? @db.Timestamptz(6)
  planned_end                   DateTime? @db.Timestamptz(6)
  actual_start                  DateTime? @db.Timestamptz(6)
  actual_end                    DateTime? @db.Timestamptz(6)
  created_by                    String?
  created_at                    DateTime? @db.Timestamptz(6)
  updated_at                    DateTime? @db.Timestamptz(6)
  manufacturing_consumption     String[]
  manufacturing_order_operation String[]
  manufacturing_production      String[]
}

model manufacturing_order_operation {
  id                   String    @id
  order_id             String?
  routing_operation_id String?
  status               String?
  started_at           DateTime? @db.Timestamptz(6)
  finished_at          DateTime? @db.Timestamptz(6)
}

model manufacturing_production {
  id         String    @id
  tenant_id  String?
  company_id String?
  order_id   String?
  product_id String?
  quantity   Decimal?  @db.Decimal(20, 4)
  created_by String?
  created_at DateTime? @db.Timestamptz(6)
}

model manufacturing_routing {
  id                              String    @id
  tenant_id                       String?
  company_id                      String?
  name                            String?
  description                     String?
  is_active                       Boolean?
  created_by                      String?
  created_at                      DateTime? @db.Timestamptz(6)
  manufacturing_routing_operation String[]
}

model manufacturing_routing_operation {
  id               String    @id
  tenant_id        String?
  company_id       String?
  routing_id       String?
  workcenter_id    String?
  sequence         Int?
  duration_minutes Int?
  created_by       String?
  created_at       DateTime? @db.Timestamptz(6)
}

model manufacturing_workcenter {
  id                              String    @id
  tenant_id                       String?
  company_id                      String?
  name                            String?
  capacity_per_hour               Decimal?  @db.Decimal(20, 4)
  cost_per_hour                   Decimal?  @db.Decimal(20, 4)
  is_active                       Boolean?
  created_by                      String?
  created_at                      DateTime? @db.Timestamptz(6)
  manufacturing_routing_operation String[]
}

model menu_audit_log {
  id           String    @id
  menu_item_id String?
  tenant_id    String?
  company_id   String?
  event        String?
  old_value    Json?
  new_value    Json?
  changed_by   String?
  changed_at   DateTime? @db.Timestamptz(6)
}

model menu_items {
  id                     String    @id
  parent_id              String?
  module_key             String?
  key                    String?
  label                  String?
  icon                   String?
  url                    String?
  sort_order             Int?
  feature_flag           String?
  permission_code        String?
  is_global              Boolean?
  created_at             DateTime? @db.Timestamptz(6)
  updated_at             DateTime? @db.Timestamptz(6)
  company_menu_overrides String[]
  module_menu_map        String[]
  tenant_menu_overrides  String[]
}

model message {
  id           String    @id
  tenant_id    String?
  user_id      String?
  title        String?
  body         String?
  from_user_id String?
  created_at   DateTime? @db.Timestamptz(6)
  read         Boolean?
}

model module_menu_map {
  id           String    @id
  module_key   String?
  menu_item_id String?
  created_at   DateTime? @db.Timestamptz(6)
}

model modules {
  id              String    @id
  module_key      String?
  name            String?
  description     String?
  is_active       Boolean?
  created_at      DateTime? @db.Timestamptz(6)
  updated_at      DateTime? @db.Timestamptz(6)
  branch_id       String?
  module_menu_map String[]
  tenant_module   String[]
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model opportunity {
  id                  String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id           String?
  lead_id             String?
  pipeline_id         String?
  stage_id            String?
  name                String?
  amount              Decimal?  @db.Decimal(20, 4)
  probability         Decimal?  @db.Decimal(20, 4)
  expected_close_date DateTime? @db.Timestamptz(6)
  status              String?
  created_at          DateTime? @db.Timestamptz(6)
  updated_at          DateTime? @db.Timestamptz(6)

  @@ignore
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
model payment_allocations {
  id                    String    @id
  tenant_id             String?
  company_id            String?
  payment_id            String?
  document_type         String?
  document_id           String?
  allocated_amount      Decimal?  @db.Decimal(20, 4)
  allocated_base_amount Decimal?  @db.Decimal(20, 4)
  fx_rate               Decimal?  @db.Decimal(20, 4)
  created_at            DateTime? @db.Timestamptz(6)
}

model payment_lines {
  id                       String    @id @default(dbgenerated("gen_random_uuid()"))
  tenant_id                String?
  company_id               String?
  payment_id               String?
  invoice_id               String?
  invoice_journal_entry_id String?
  amount                   Decimal?  @db.Decimal(20, 4)
  created_at               DateTime? @db.Timestamptz(6)
  metadata                 Json?
}

model payment_reconciliation_details {
  id              String    @id
  tenant_id       String?
  company_id      String?
  payment_id      String?
  payment_line_id String?
  invoice_id      String?
  amount          Decimal?  @db.Decimal(20, 4)
  created_by      String?
  created_at      DateTime? @db.Timestamptz(6)
  metadata        Json?
}

model payments {
  id                        String    @id @default(dbgenerated("gen_random_uuid()"))
  tenant_id                 String?
  company_id                String?
  payment_number            String?
  payment_number_normalized String?
  partner_id                String?
  journal_id                String?
  method                    String?
  amount                    Decimal?  @db.Decimal(20, 4)
  currency_id               String?
  reference                 String?
  posted                    Boolean?
  posted_at                 DateTime? @db.Timestamptz(6)
  journal_entry_id          String?
  created_by                String?
  created_at                DateTime? @db.Timestamptz(6)
  updated_at                DateTime? @db.Timestamptz(6)
  metadata                  Json?
  payment_lines             String[]
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model periods {
  id             String    @id
  tenant_id      String?
  company_id     String?
  fiscal_year_id String?
  name           String?
  date_start     DateTime? @db.Timestamptz(6)
  date_end       DateTime? @db.Timestamptz(6)
  state          String?
  created_at     DateTime? @db.Timestamptz(6)
}

model permission {
  code            String    @id
  name            String?
  description     String?
  category        String?
  is_deprecated   Boolean?
  created_at      DateTime? @db.Timestamptz(6)
  role_permission String[]
  user_permission String[]
}

model crm_leads {
  id                 String    @id
  tenant_id          String?
  company_id         String?
  /// Link to app_user
  owner_id           String?
  pipeline_id        String?
  stage_id           String?
  source_id          String?
  /// Lead Name / Title
  name               String?
  /// Person Name
  contact_name       String?
  /// Organization Name
  company_name       String?
  email              String?
  phone              String?
  /// new, contacted, qualified, lost, converted
  status             String?
  estimated_value    Decimal?  @db.Decimal(20, 4)
  probability        Decimal?  @db.Decimal(20, 4)
  next_followup_date DateTime? @db.Timestamptz(6)
  last_activity_date DateTime? @db.Timestamptz(6)
  lead_score         Int?
  ai_summary         String?
  is_hot             Boolean?
  /// Soft Delete
  deleted_at         DateTime? @db.Timestamptz(6)
  metadata           Json?
  created_at         DateTime? @db.Timestamptz(6)
  updated_at         DateTime? @db.Timestamptz(6)
  currency           String?
  target_type_id     String?
  branch_id          String?
  activities         String[]
}

model crm_contacts {
  id         String    @id
  tenant_id  String?
  company_id String?
  owner_id   String?
  first_name String?
  last_name  String?
  email      String?
  phone      String?
  job_title  String?
  account_id String?
  deleted_at DateTime? @db.Timestamptz(6)
  created_at DateTime? @db.Timestamptz(6)
  updated_at DateTime? @db.Timestamptz(6)
  branch_id  String?
}

model crm_accounts {
  id         String    @id
  tenant_id  String?
  owner_id   String?
  name       String?
  industry   String?
  website    String?
  phone      String?
  deleted_at DateTime? @db.Timestamptz(6)
  created_at DateTime? @db.Timestamptz(6)
  updated_at DateTime? @db.Timestamptz(6)
  branch_id  String?
  company_id String?
  parent_id  String?
  contacts   String[]
  deals      String[]
}

model crm_deals {
  id                  String    @id
  tenant_id           String?
  owner_id            String?
  title               String?
  value               Decimal?  @db.Decimal(20, 4)
  currency            String?
  pipeline_id         String?
  stage_id            String?
  account_id          String?
  contact_id          String?
  expected_close_date DateTime? @db.Timestamptz(6)
  probability         Decimal?  @db.Decimal(20, 4)
  /// open, won, lost
  status              String?
  lost_reason_id      String?
  deleted_at          DateTime? @db.Timestamptz(6)
  created_at          DateTime? @db.Timestamptz(6)
  updated_at          DateTime? @db.Timestamptz(6)
  branch_id           String?
  company_id          String?
  activities          String[]
  commissions         String[]
}

model crm_pipelines {
  id         String    @id
  tenant_id  String?
  name       String?
  is_default Boolean?
  deleted_at DateTime? @db.Timestamptz(6)
  created_at DateTime? @db.Timestamptz(6)
  deals      String[]
  leads      String[]
  stages     String[]
}

model crm_stages {
  id          String    @id
  pipeline_id String?
  name        String?
  /// open, won, lost
  type        String?
  probability Decimal?  @db.Decimal(20, 4)
  sort_order  Int?
  deleted_at  DateTime? @db.Timestamptz(6)
  deals       String[]
  leads       String[]
}

model crm_sources {
  id         String    @id
  tenant_id  String?
  name       String?
  deleted_at DateTime? @db.Timestamptz(6)
  created_at DateTime? @db.Timestamptz(6)
  leads      String[]
}

model crm_lost_reasons {
  id          String    @id
  tenant_id   String?
  name        String?
  deleted_at  DateTime? @db.Timestamptz(6)
  created_at  DateTime? @db.Timestamptz(6)
  description String?
  is_active   Boolean?
  deals       String[]
}

model crm_activities {
  id              String    @id
  tenant_id       String?
  owner_id        String?
  /// lead, deal, contact, account
  related_to_type String?
  related_to_id   String?
  /// call, meeting, email, note, task
  type            String?
  subject         String?
  description     String?
  due_date        DateTime? @db.Timestamptz(6)
  completed_at    DateTime? @db.Timestamptz(6)
  /// pending, completed, overdue, cancelled
  status          String?
  /// -100 to 100
  sentiment_score Int?
  location_lat    Decimal?  @db.Decimal(20, 4)
  location_lng    Decimal?  @db.Decimal(20, 4)
  deleted_at      DateTime? @db.Timestamptz(6)
  created_at      DateTime? @db.Timestamptz(6)
  lead_id         String?
  deal_id         String?
}

model crm_attendance {
  id                 String    @id
  tenant_id          String?
  user_id            String?
  date               DateTime? @db.Timestamptz(6)
  check_in           DateTime? @db.Timestamptz(6)
  check_out          DateTime? @db.Timestamptz(6)
  /// { lat: ..., lng: ..., address: ... }
  check_in_location  Json?
  check_out_location Json?
  /// present, absent, half_day, late
  status             String?
  notes              String?
  created_at         DateTime? @db.Timestamptz(6)
}

model crm_targets {
  id               String    @id
  tenant_id        String?
  /// user, role, team
  assignee_type    String?
  /// user_id or role_id
  assignee_id      String?
  /// week, month, quarter, year
  period_type      String?
  period_start     DateTime? @db.Timestamptz(6)
  period_end       DateTime? @db.Timestamptz(6)
  /// revenue, count
  target_type      String?
  target_value     Decimal?  @db.Decimal(20, 4)
  achieved_value   Decimal?  @db.Decimal(20, 4)
  deleted_at       DateTime? @db.Timestamptz(6)
  created_at       DateTime? @db.Timestamptz(6)
  incentive_amount Decimal?  @db.Decimal(20, 4)
  milestones       String[]
}

model crm_target_milestones {
  id             String    @id
  target_id      String?
  step_order     Int?
  name           String?
  /// calls, deals_created, pipeline_value, revenue, activities
  metric_type    String?
  target_value   Decimal?  @db.Decimal(20, 4)
  achieved_value Decimal?  @db.Decimal(20, 4)
  deadline       DateTime? @db.Timestamptz(6)
  /// pending, passed, failed
  status         String?
  is_blocking    Boolean?
  created_at     DateTime? @db.Timestamptz(6)
}

model crm_designation {
  id          String    @id
  tenant_id   String?
  name        String?
  description String?
  is_active   Boolean?
  created_at  DateTime? @db.Timestamptz(6)
  updated_at  DateTime? @db.Timestamptz(6)
  employees   String[]
}

model crm_employee {
  id                      String    @id
  tenant_id               String?
  company_id              String?
  branch_id               String?
  user_id                 String?
  employee_id             String?
  first_name              String?
  last_name               String?
  email                   String?
  phone                   String?
  dob                     DateTime? @db.Timestamptz(6)
  gender                  String?
  blood_group             String?
  designation_id          String?
  department_id           String?
  joining_date            DateTime? @db.Timestamptz(6)
  exit_date               DateTime? @db.Timestamptz(6)
  status                  String?
  salary_basis            String?
  base_salary             Decimal?  @db.Decimal(20, 4)
  bank_name               String?
  account_no              String?
  ifsc_code               String?
  pan_no                  String?
  aadhar_no               String?
  passport_no             String?
  present_address         String?
  permanent_address       String?
  emergency_contact_name  String?
  emergency_contact_phone String?
  metadata                Json?
  created_at              DateTime? @db.Timestamptz(6)
  updated_at              DateTime? @db.Timestamptz(6)
}

model crm_commission_rules {
  id               String    @id
  tenant_id        String?
  name             String?
  /// role, user
  assignee_type    String?
  assignee_id      String?
  /// percentage, flat
  calculation_type String?
  /// 5.00% or 500.00
  value            Decimal?  @db.Decimal(20, 4)
  trigger_event    String?
  is_active        Boolean?
  deleted_at       DateTime? @db.Timestamptz(6)
  created_at       DateTime? @db.Timestamptz(6)
}

model crm_commissions {
  id         String    @id
  tenant_id  String?
  user_id    String?
  deal_id    String?
  amount     Decimal?  @db.Decimal(20, 4)
  /// pending, paid, cancelled
  status     String?
  paid_at    DateTime? @db.Timestamptz(6)
  deleted_at DateTime? @db.Timestamptz(6)
  created_at DateTime? @db.Timestamptz(6)
}

model crm_custom_fields {
  id          String    @id
  tenant_id   String?
  /// lead, deal, contact, account
  entity_type String?
  key         String?
  label       String?
  /// text, number, date, select, boolean
  field_type  String?
  /// for select
  options     Json?
  required    Boolean?
  sort_order  Int?
  deleted_at  DateTime? @db.Timestamptz(6)
  created_at  DateTime? @db.Timestamptz(6)
  values      String[]
}

model crm_custom_values {
  id            String    @id
  field_id      String?
  /// lead_id, deal_id etc
  record_id     String?
  value_text    String?
  value_number  Decimal?  @db.Decimal(20, 4)
  value_date    DateTime? @db.Timestamptz(6)
  value_boolean Boolean?
  value_json    Json?
}

model crm_target_types {
  id         String    @id
  tenant_id  String?
  name       String?
  created_at DateTime? @db.Timestamptz(6)
  deleted_at DateTime? @db.Timestamptz(6)
  leads      String[]
}

model pos_payment_method {
  id         String   @id
  tenant_id  String?
  company_id String?
  name       String?
  type       String?
  is_active  Boolean?
}

model pos_profile {
  id            String    @id
  tenant_id     String?
  company_id    String?
  terminal_id   String?
  price_list_id String?
  tax_inclusive Boolean?
  created_at    DateTime? @db.Timestamptz(6)
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
model pos_register {
  id          String    @id
  tenant_id   String?
  company_id  String?
  store_id    String?
  name        String?
  status      String?
  created_at  DateTime? @db.Timestamptz(6)
  updated_at  DateTime? @db.Timestamptz(6)
  pos_session String[]
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
model pos_session {
  id          String    @id
  tenant_id   String?
  company_id  String?
  register_id String?
  opened_by   String?
  opened_at   DateTime? @db.Timestamptz(6)
  closed_at   DateTime? @db.Timestamptz(6)
  status      String?
}

model pos_store {
  id           String    @id
  tenant_id    String?
  company_id   String?
  name         String?
  address      String?
  is_active    Boolean?
  created_at   DateTime? @db.Timestamptz(6)
  updated_at   DateTime? @db.Timestamptz(6)
  pos_terminal String[]
}

model pos_tax_template {
  id         String   @id
  tenant_id  String?
  company_id String?
  name       String?
  rate       Decimal? @db.Decimal(20, 4)
  is_active  Boolean?
}

model pos_terminal {
  id            String    @id
  tenant_id     String?
  company_id    String?
  store_id      String?
  terminal_name String?
  is_active     Boolean?
  created_at    DateTime? @db.Timestamptz(6)
  updated_at    DateTime? @db.Timestamptz(6)
  pos_profile   String[]
}

model posting_rules {
  id                String    @id
  tenant_id         String?
  company_id        String?
  journal_type_id   String?
  debit_account_id  String?
  credit_account_id String?
  description       String?
  created_at        DateTime? @db.Timestamptz(6)
}

model product {
  id                     String    @id
  tenant_id              String?
  company_id             String?
  name                   String?
  description            String?
  category_id            String?
  is_active              Boolean?
  has_variants           Boolean?
  sku                    String?
  price                  Decimal?  @db.Decimal(20, 4)
  cost_price             Decimal?  @db.Decimal(20, 4)
  created_at             DateTime? @db.Timestamptz(6)
  updated_at             DateTime? @db.Timestamptz(6)
  code                   String?
  type                   String?
  uom_id                 String?
  product_variant        String[]
  promotion_product_link String[]
}

model product_attribute {
  id                      String   @id
  tenant_id               String?
  company_id              String?
  name                    String?
  is_active               Boolean?
  product_attribute_value String[]
}

model product_attribute_value {
  id           String  @id
  attribute_id String?
  name         String?
}

/// This model contains an expression index which requires additional setup for migrations. Visit https://pris.ly/d/expression-indexes for more info.
model product_category {
  id         String    @id
  tenant_id  String?
  company_id String?
  name       String?
  is_active  Boolean?
  created_at DateTime? @db.Timestamptz(6)
  updated_at DateTime? @db.Timestamptz(6)
  product    String[]
}

model product_tax_rules {
  id               String    @id
  tenant_id        String?
  company_id       String?
  priority         Int?
  hsn_prefix       String?
  product_category String?
  tax_rate_id      String?
  description      String?
  is_active        Boolean?
  created_at       DateTime? @db.Timestamptz(6)
  updated_at       DateTime? @db.Timestamptz(6)
  product_id       String?
}

model product_variant {
  id           String    @id
  tenant_id    String?
  company_id   String?
  product_id   String?
  variant_name String?
  sku          String?
  price        Decimal?  @db.Decimal(20, 4)
  barcode      String?
  created_at   DateTime? @db.Timestamptz(6)
  updated_at   DateTime? @db.Timestamptz(6)
}

model promo_campaign {
  id         String    @id
  tenant_id  String?
  company_id String?
  name       String?
  start_date DateTime? @db.Timestamptz(6)
  end_date   DateTime? @db.Timestamptz(6)
  is_active  Boolean?
  created_at DateTime? @db.Timestamptz(6)
  promo_rule String[]
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
model promo_rule {
  id           String    @id
  campaign_id  String?
  rule_type    String?
  percentage   Decimal?  @db.Decimal(20, 4)
  fixed_amount Decimal?  @db.Decimal(20, 4)
  buy_qty      Int?
  get_qty      Int?
  applied_on   String?
  product_id   String?
  category_id  String?
  created_at   DateTime? @db.Timestamptz(6)
}

model promo_usage {
  id          String    @id
  tenant_id   String?
  company_id  String?
  campaign_id String?
  user_id     String?
  order_id    String?
  discount    Decimal?  @db.Decimal(20, 4)
  created_at  DateTime? @db.Timestamptz(6)
}

model promotion {
  id                     String    @id
  tenant_id              String?
  company_id             String?
  name                   String?
  start_date             DateTime? @db.Timestamptz(6)
  end_date               DateTime? @db.Timestamptz(6)
  is_active              Boolean?
  created_at             DateTime? @db.Timestamptz(6)
  promotion_action       String[]
  promotion_condition    String[]
  promotion_product_link String[]
}

model promotion_action {
  id           String  @id
  promotion_id String?
  action_type  String?
  config       Json?
}

model promotion_condition {
  id             String  @id
  promotion_id   String?
  condition_type String?
  config         Json?
}

model promotion_product_link {
  id           String  @id
  promotion_id String?
  product_id   String?
}

model provisioning_jobs {
  id           String    @id
  tenant_id    String?
  company_id   String?
  user_id      String?
  payload      Json?
  status       String?
  attempts     Int?
  last_error   String?
  scheduled_at DateTime? @db.Timestamptz(6)
  started_at   DateTime? @db.Timestamptz(6)
  finished_at  DateTime? @db.Timestamptz(6)
  created_at   DateTime? @db.Timestamptz(6)
  updated_at   DateTime? @db.Timestamptz(6)
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model reconciliations {
  id                     String    @id
  tenant_id              String?
  company_id             String?
  name                   String?
  journal_entry_line_ids String[]
  state                  String?
  created_at             DateTime? @db.Timestamptz(6)
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model refresh_tokens {
  id                     String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  rid                    String?
  sid                    String?
  user_id                String?
  tenant_id              String?
  token_hash             String?
  revoked                Boolean?
  replaced_by_token_hash String?
  created_at             DateTime? @db.Timestamptz(6)
  expires_at             DateTime? @db.Timestamptz(6)

  @@ignore
}

model retail_settings {
  company_id        String    @id
  default_tax_id    String?
  enable_loyalty    Boolean?
  enable_promotions Boolean?
  created_at        DateTime? @db.Timestamptz(6)
  updated_at        DateTime? @db.Timestamptz(6)
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
model retail_store {
  id           String    @id
  tenant_id    String?
  company_id   String?
  name         String?
  code         String?
  store_type   String?
  address      String?
  is_active    Boolean?
  created_at   DateTime? @db.Timestamptz(6)
  updated_at   DateTime? @db.Timestamptz(6)
  pos_register String[]
}

model role {
  id              String    @id
  tenant_id       String?
  key             String?
  name            String?
  permissions     String[]
  created_at      DateTime? @db.Timestamptz(6)
  role_permission String[]
}

model role_permission {
  id              String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  role_id         String?
  permission_code String?
  tenant_id       String?
  is_granted      Boolean?
  created_at      DateTime? @db.Timestamptz(6)
}

model sessions {
  sid             String    @id
  user_id         String?
  tenant_id       String?
  device          String?
  issued_at       DateTime? @db.Timestamptz(6)
  last_seen       DateTime? @db.Timestamptz(6)
  meta            Json?
  absolute_expiry DateTime? @db.Timestamptz(6)
  created_at      DateTime? @db.Timestamptz(6)
  company_id      String?
}

model setting_schemas {
  id          String    @id
  key         String?
  json_schema Json?
  description String?
  version     Int?
  created_at  DateTime? @db.Timestamptz(6)
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model tag {
  id         String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id  String?
  key        String?
  name       String?
  metadata   Json?
  created_at DateTime? @db.Timestamptz(6)

  @@ignore
}

model tax_gl_accounts {
  id                        String    @id
  tenant_id                 String?
  company_id                String?
  tax_rate_id               String?
  output_account_id         String?
  input_account_id          String?
  reverse_charge_account_id String?
  created_at                DateTime? @db.Timestamptz(6)
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
model tax_posting_rules {
  id          String    @id
  tenant_id   String?
  company_id  String?
  tax_rate_id String?
  behavior    String?
  created_at  DateTime? @db.Timestamptz(6)
}

model tax_rates {
  id                       String    @id
  tax_type_id              String?
  name                     String?
  rate                     Decimal?  @db.Decimal(20, 4)
  is_active                Boolean?
  created_at               DateTime? @db.Timestamptz(6)
  updated_at               DateTime? @db.Timestamptz(6)
  company_settings         String[]
  company_tax_maps         String[]
  country_tax_mappings     String[]
  hms_invoice_lines        String[]
  hms_product_category     String[]
  product_tax_rules        String[]
  tax_gl_accounts          String[]
  tax_posting_rules        String[]
  tenant_enabled_tax_rates String[]
}

model tax_types {
  id                   String    @id
  name                 String?
  description          String?
  is_active            Boolean?
  created_at           DateTime? @db.Timestamptz(6)
  updated_at           DateTime? @db.Timestamptz(6)
  company_settings     String[]
  company_tax_maps     String[]
  country_tax_mappings String[]
  tax_rates            String[]
}

model tenant {
  id                    String    @id
  slug                  String?
  name                  String?
  billing_plan          String?
  metadata              Json?
  created_at            DateTime? @db.Timestamptz(6)
  tenant_id             String?
  domain                String?
  deleted_at            DateTime? @db.Timestamptz(6)
  mode                  String?
  app_name              String?
  db_url                String?
  logo_url              String?
  company_settings      String[]
  domain_mappings       String[]
  domain_policies       String[]
  tenant_menu_overrides String[]
  tenant_module         String[]
}

model tenant_enabled_currencies {
  id          String    @id
  tenant_id   String?
  currency_id String?
  is_default  Boolean?
  created_at  DateTime? @db.Timestamptz(6)
}

model tenant_enabled_tax_rates {
  id          String    @id
  tenant_id   String?
  tax_rate_id String?
  is_default  Boolean?
  created_at  DateTime? @db.Timestamptz(6)
}

model tenant_menu_overrides {
  id                  String    @id
  tenant_id           String?
  menu_item_id        String?
  enabled             Boolean?
  label_override      String?
  url_override        String?
  sort_order_override Int?
  created_at          DateTime? @db.Timestamptz(6)
  updated_at          DateTime? @db.Timestamptz(6)
}

model tenant_module {
  id         String    @id
  tenant_id  String?
  module_key String?
  enabled    Boolean?
  created_at DateTime? @db.Timestamptz(6)
  updated_at DateTime? @db.Timestamptz(6)
  module_id  String?
}

model user_companies {
  id         String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id  String?
  user_id    String?
  company_id String?
  is_default Boolean?
  created_at DateTime? @db.Timestamptz(6)
}

model user_permission {
  id              String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  user_id         String?
  tenant_id       String?
  permission_code String?
  is_granted      Boolean?
  created_at      DateTime? @db.Timestamptz(6)
}

model user_role {
  id          String    @id
  user_id     String?
  role_id     String?
  assigned_at DateTime? @db.Timestamptz(6)
  tenant_id   String?
}

model prescription {
  id                 String    @id
  tenant_id          String?
  company_id         String?
  patient_id         String?
  doctor_id          String?
  visit_date         DateTime? @db.Timestamptz(6)
  vitals             String?
  diagnosis          String?
  complaint          String?
  examination        String?
  plan               String?
  created_at         DateTime? @db.Timestamptz(6)
  updated_at         DateTime? @db.Timestamptz(6)
  appointment_id     String?
  branch_id          String?
  prescription_items String[]
}

model prescription_items {
  id              String    @id
  prescription_id String?
  medicine_id     String?
  morning         Int?
  afternoon       Int?
  evening         Int?
  night           Int?
  days            Int?
  created_at      DateTime? @db.Timestamptz(6)
}

model hms_prescription_template {
  id          String    @id
  tenant_id   String?
  name        String?
  description String?
  medicines   Json?
  created_at  DateTime? @db.Timestamptz(6)
  updated_at  DateTime? @db.Timestamptz(6)
  complaint   String?
  diagnosis   String?
  examination String?
  plan        String?
  vitals      String?
}

model crm_contact_roles {
  id          String    @id
  tenant_id   String?
  name        String?
  description String?
  is_active   Boolean?
  created_at  DateTime? @db.Timestamptz(6)
  deleted_at  DateTime? @db.Timestamptz(6)
}

model hms_staff_attendance {
  id                 String    @id
  tenant_id          String?
  company_id         String?
  user_id            String?
  check_in           DateTime? @db.Timestamptz(6)
  check_out          DateTime? @db.Timestamptz(6)
  status             String?
  location_in        Json?
  location_out       Json?
  device_info        Json?
  break_duration     Int?
  metadata           Json?
  productivity_score Decimal?  @db.Decimal(20, 4)
  created_at         DateTime? @db.Timestamptz(6)
  updated_at         DateTime? @db.Timestamptz(6)
}

model hms_staff_shift {
  id           String    @id
  tenant_id    String?
  company_id   String?
  name         String?
  start_time   String?
  end_time     String?
  grace_period Int?
  work_days    String[]
  is_active    Boolean?
  created_at   DateTime? @db.Timestamptz(6)
  color        String?
}

model hms_staff_roster {
  id         String    @id
  tenant_id  String?
  company_id String?
  user_id    String?
  shift_id   String?
  date       DateTime? @db.Timestamptz(6)
  status     String?
  notes      String?
  created_at DateTime? @db.Timestamptz(6)
}

model hms_emergency_broadcast {
  id         String    @id
  tenant_id  String?
  sender_id  String?
  message    String?
  priority   String?
  type       String?
  expires_at DateTime? @db.Timestamptz(6)
  created_at DateTime? @db.Timestamptz(6)
}

model hms_broadcast_ack {
  id              String    @id
  broadcast_id    String?
  user_id         String?
  acknowledged_at DateTime? @db.Timestamptz(6)
}

model hms_cash_shift {
  id              String    @id
  tenant_id       String?
  company_id      String?
  user_id         String?
  start_time      DateTime? @db.Timestamptz(6)
  end_time        DateTime? @db.Timestamptz(6)
  opening_balance Decimal?  @db.Decimal(20, 4)
  closing_balance Decimal?  @db.Decimal(20, 4)
  system_balance  Decimal?  @db.Decimal(20, 4)
  difference      Decimal?  @db.Decimal(20, 4)
  status          String?
  notes           String?
  denominations   Json?
  created_at      DateTime? @db.Timestamptz(6)
  updated_at      DateTime? @db.Timestamptz(6)
}

model doctor_note {
  id             String    @id
  doctor_id      String?
  patient_id     String?
  appointment_id String?
  title          String?
  content        String?
  pdf_data       String?
  created_at     DateTime? @db.Timestamptz(6)
  updated_at     DateTime? @db.Timestamptz(6)
  branch_id      String?
}

enum StockMoveType {
  RECEIPT
  ISSUE
  TRANSFER
  ADJUSTMENT
  SALE
  RETURN
  DAMAGED
}

enum appointment_status {
  scheduled
  confirmed
  cancelled
  completed
  no_show
}

enum hms_invoice_status {
  draft
  posted
  paid
  cancelled
  void
}

enum hms_location_type {
  warehouse
  pharmacy
  ward
  theatre
  lab
  transit
  consumed
}

enum hms_move_type {
  in
  out
  internal
  adjustment
  reservation
  return
}

enum hms_payment_method {
  cash
  card
  upi
  bank_transfer
  insurance
  adjustment
}

enum hms_purchase_status {
  draft
  confirmed
  approved
  partially_received
  received
  billed
  closed
  cancelled
}

enum hms_receipt_status {
  pending
  received
  partially_received
  closed
  cancelled
}

enum visit_status {
  active
  completed
  cancelled
  no_show
}
